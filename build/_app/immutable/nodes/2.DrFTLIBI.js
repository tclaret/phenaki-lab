import{f as he,a as D,c as Ve,t as me}from"../chunks/DidSmI2s.js";import"../chunks/BfDn8e9k.js";import{G as ga,v as Ee,w as _a,g as t,av as wa,I as ya,J as ba,K as zn,L as On,M as cn,D as Ot,a3 as xa,aq as Ma,aa as ka,x as Be,C as gn,B as Xn,F as Sa,Q as ne,a1 as Wn,ao as Vn,aI as Bn,aJ as Pa,y as Jn,A as Ca,aK as Ta,aL as Ia,aM as fn,ak as Ea,aN as $a,aO as Da,an as Aa,z as qa,aP as Pn,N as La,R as Fa,aQ as Ra,aR as za,aS as Zn,aT as Oa,aU as Wa,aV as Na,P as Ga,aW as Ua,aX as ja,b as We,O as Kn,aG as Ha,p as It,j as Et,s as k,k as E,l as $,aY as Ie,aZ as Cn,i as ze,U as T,t as Te,a_ as te,ab as Nt,a$ as Ya}from"../chunks/CkcJ_p-v.js";import{e as ie,s as Le}from"../chunks/EstrOUTn.js";import{i as jt}from"../chunks/BeJGQpUk.js";import{w as ve,o as Tn,a as Xa,g as un}from"../chunks/BzLubvRb.js";import{i as re,s as In,a as j,b as Nn,d as Va}from"../chunks/CgM4jgzu.js";function Ba(e,s,a){for(var c=[],d=s.length,r=0;r<d;r++)$a(s[r].e,c,!0);Da(c,()=>{var o=c.length===0&&a!==null;if(o){var h=a,x=h.parentNode;Aa(x),x.append(h),e.items.clear(),Oe(e,s[0].prev,s[d-1].next)}for(var m=0;m<d;m++){var i=s[m];o||(e.items.delete(i.k),Oe(e,i.prev,i.next)),qa(i.e,!o)}e.first===s[0]&&(e.first=s[0].prev)})}function Ja(e,s,a,c,d,r=null){var o=e,h=new Map,x=null;Ee&&_a();var m=null,i=wa(()=>{var l=a();return Bn(l)?l:l==null?[]:Vn(l)}),_,v=!0;function S(){Za(C,_,o,s,c),m!==null&&(_.length===0?(m.fragment?(o.before(m.fragment),m.fragment=null):Jn(m.effect),w.first=m.effect):Ca(m.effect,()=>{m=null}))}var w=ga(()=>{_=t(i);var l=_.length;let p=!1;if(Ee){var b=ya(o)===ba;b!==(l===0)&&(o=zn(),On(o),cn(!1),p=!0)}for(var u=new Set,y=Be,n=null,H=Sa(),I=0;I<l;I+=1){Ee&&Ot.nodeType===xa&&Ot.data===Ma&&(o=Ot,p=!0,cn(!1));var ae=_[I],le=c(ae,I),G=v?null:h.get(le);G?(ka(G.v,ae),G.i=I,H&&y.skipped_effects.delete(G.e)):(G=Ka(v?o:null,n,ae,le,I,d,s,a),v&&(G.o=!0,n===null?x=G:n.next=G,n=G),h.set(le,G)),u.add(le)}if(l===0&&r&&!m)if(v)m={fragment:null,effect:gn(()=>r(o))};else{var Q=document.createDocumentFragment(),K=Xn();Q.append(K),m={fragment:Q,effect:gn(()=>r(K))}}if(Ee&&l>0&&On(zn()),!v)if(H){for(const[F,ee]of h)u.has(F)||y.skipped_effects.add(ee.e);y.oncommit(S),y.ondiscard(()=>{})}else S();p&&cn(!0),t(i)}),C={effect:w,items:h,first:x};v=!1,Ee&&(o=Ot)}function Za(e,s,a,c,d){var r=s.length,o=e.items,h=e.first,x,m=null,i=[],_=[],v,S,w,C;for(C=0;C<r;C+=1){if(v=s[C],S=d(v,C),w=o.get(S),e.first??=w,!w.o){w.o=!0;var l=m?m.next:h;Oe(e,m,w),Oe(e,w,l),dn(w,l,a),m=w,i=[],_=[],h=m.next;continue}if((w.e.f&fn)!==0&&Jn(w.e),w!==h){if(x!==void 0&&x.has(w)){if(i.length<_.length){var p=_[0],b;m=p.prev;var u=i[0],y=i[i.length-1];for(b=0;b<i.length;b+=1)dn(i[b],p,a);for(b=0;b<_.length;b+=1)x.delete(_[b]);Oe(e,u.prev,y.next),Oe(e,m,u),Oe(e,y,p),h=p,m=y,C-=1,i=[],_=[]}else x.delete(w),dn(w,h,a),Oe(e,w.prev,w.next),Oe(e,w,m===null?e.first:m.next),Oe(e,m,w),m=w;continue}for(i=[],_=[];h!==null&&h.k!==S;)(h.e.f&fn)===0&&(x??=new Set).add(h),_.push(h),h=h.next;if(h===null)continue;w=h}i.push(w),m=w,h=w.next}let n=o.size>r;if(h!==null||x!==void 0){for(var H=x===void 0?[]:Vn(x);h!==null;)(h.e.f&fn)===0&&H.push(h),h=h.next;var I=H.length;if(n=o.size-I>r,I>0){var ae=null;Ba(e,H,ae)}}if(n)for(const le of o.values())le.o||(Oe(e,m,le),m=le);e.effect.last=m&&m.e}function Ka(e,s,a,c,d,r,o,h){var x=(o&Ta)!==0,m=(o&Ia)===0,i=x?m?ne(a,!1,!1):Wn(a):a,_=(o&Pa)===0?d:Wn(d),v={i:_,v:i,k:c,a:null,e:null,o:!1,prev:s,next:null};try{if(e===null){var S=document.createDocumentFragment();S.append(e=Xn())}return v.e=gn(()=>r(e,i,_,h)),s!==null&&(s.next=v),v}finally{}}function dn(e,s,a){for(var c=e.next?e.next.e.nodes_start:a,d=s?s.e.nodes_start:a,r=e.e.nodes_start;r!==null&&r!==c;){var o=Ea(r);d.before(r),r=o}}function Oe(e,s,a){s===null?(e.first=a,e.effect.first=a&&a.e):(s.e.next&&(s.e.next.prev=null),s.next=a,s.e.next=a&&a.e),a!==null&&(a.e.prev&&(a.e.prev.next=null),a.prev=s,a.e.prev=s&&s.e)}function Qn(e){var s,a,c="";if(typeof e=="string"||typeof e=="number")c+=e;else if(typeof e=="object")if(Array.isArray(e)){var d=e.length;for(s=0;s<d;s++)e[s]&&(a=Qn(e[s]))&&(c&&(c+=" "),c+=a)}else for(a in e)e[a]&&(c&&(c+=" "),c+=a);return c}function Qa(){for(var e,s,a=0,c="",d=arguments.length;a<d;a++)(e=arguments[a])&&(s=Qn(e))&&(c&&(c+=" "),c+=s);return c}function Gn(e){return typeof e=="object"?Qa(e):e??""}const Un=[...` 	
\r\f¬†\v\uFEFF`];function er(e,s,a){var c=e==null?"":""+e;if(s&&(c=c?c+" "+s:s),a){for(var d in a)if(a[d])c=c?c+" "+d:d;else if(c.length)for(var r=d.length,o=0;(o=c.indexOf(d,o))>=0;){var h=o+r;(o===0||Un.includes(c[o-1]))&&(h===c.length||Un.includes(c[h]))?c=(o===0?"":c.substring(0,o))+c.substring(h+1):o=h}}return c===""?null:c}function tr(e,s){return e==null?null:String(e)}function Gt(e,s,a,c,d,r){var o=e.__className;if(Ee||o!==a||o===void 0){var h=er(a,c,r);(!Ee||h!==e.getAttribute("class"))&&(h==null?e.removeAttribute("class"):e.className=h),e.__className=a}else if(r&&d!==r)for(var x in r){var m=!!r[x];(d==null||m!==!!d[x])&&e.classList.toggle(x,m)}return r}function ut(e,s,a,c){var d=e.__style;if(Ee||d!==s){var r=tr(s);(!Ee||r!==e.getAttribute("style"))&&(r==null?e.removeAttribute("style"):e.style.cssText=r),e.__style=s}return c}function ea(e,s,a=!1){if(e.multiple){if(s==null)return;if(!Bn(s))return Ra();for(var c of e.options)c.selected=s.includes(Pt(c));return}for(c of e.options){var d=Pt(c);if(za(d,s)){c.selected=!0;return}}(!a||s!==void 0)&&(e.selectedIndex=-1)}function nr(e){var s=new MutationObserver(()=>{ea(e,e.__value)});s.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Fa(()=>{s.disconnect()})}function ar(e,s,a=s){var c=new WeakSet,d=!0;Pn(e,"change",r=>{var o=r?"[selected]":":checked",h;if(e.multiple)h=[].map.call(e.querySelectorAll(o),Pt);else{var x=e.querySelector(o)??e.querySelector("option:not([disabled])");h=x&&Pt(x)}a(h),Be!==null&&c.add(Be)}),La(()=>{var r=s();if(e===document.activeElement){var o=Zn??Be;if(c.has(o))return}if(ea(e,r,d),d&&r===void 0){var h=e.querySelector(":checked");h!==null&&(r=Pt(h),a(r))}e.__value=r,d=!1}),nr(e)}function Pt(e){return"__value"in e?e.__value:e.value}const rr=Symbol("is custom element"),ir=Symbol("is html");function kt(e){if(Ee){var s=!1,a=()=>{if(!s){if(s=!0,e.hasAttribute("value")){var c=e.value;Ut(e,"value",null),e.value=c}if(e.hasAttribute("checked")){var d=e.checked;Ut(e,"checked",null),e.checked=d}}};e.__on_r=a,Ga(a),Ua()}}function jn(e,s){var a=En(e);a.value===(a.value=s??void 0)||e.value===s&&(s!==0||e.nodeName!=="PROGRESS")||(e.value=s??"")}function sr(e,s){var a=En(e);a.checked!==(a.checked=s??void 0)&&(e.checked=s)}function Ut(e,s,a,c){var d=En(e);Ee&&(d[s]=e.getAttribute(s),s==="src"||s==="srcset"||s==="href"&&e.nodeName==="LINK")||d[s]!==(d[s]=a)&&(s==="loading"&&(e[ja]=a),a==null?e.removeAttribute(s):typeof a!="string"&&or(e).includes(s)?e[s]=a:e.setAttribute(s,a))}function En(e){return e.__attributes??={[rr]:e.nodeName.includes("-"),[ir]:e.namespaceURI===Oa}}var Hn=new Map;function or(e){var s=e.getAttribute("is")||e.nodeName,a=Hn.get(s);if(a)return a;Hn.set(s,a=[]);for(var c,d=e,r=Element.prototype;r!==d;){c=Na(d);for(var o in c)c[o].set&&a.push(o);d=Wa(d)}return a}function lr(e,s,a=s){var c=new WeakSet;Pn(e,"input",async d=>{var r=d?e.defaultValue:e.value;if(r=hn(e)?vn(r):r,a(r),Be!==null&&c.add(Be),await Ha(),r!==(r=s())){var o=e.selectionStart,h=e.selectionEnd,x=e.value.length;if(e.value=r??"",h!==null){var m=e.value.length;o===h&&h===x&&m>x?(e.selectionStart=m,e.selectionEnd=m):(e.selectionStart=o,e.selectionEnd=Math.min(h,m))}}}),(Ee&&e.defaultValue!==e.value||We(s)==null&&e.value)&&(a(hn(e)?vn(e.value):e.value),Be!==null&&c.add(Be)),Kn(()=>{var d=s();if(e===document.activeElement){var r=Zn??Be;if(c.has(r))return}hn(e)&&d===vn(e.value)||e.type==="date"&&!d&&!e.value||d!==e.value&&(e.value=d??"")})}function cr(e,s,a=s){Pn(e,"change",c=>{var d=c?e.defaultChecked:e.checked;a(d)}),(Ee&&e.defaultChecked!==e.checked||We(s)==null)&&a(e.checked),Kn(()=>{var c=s();e.checked=!!c})}function hn(e){var s=e.type;return s==="number"||s==="range"}function vn(e){return e===""?null:+e}const $n=ve(null),ht=ve(null),ot=ve(!1),et=ve(360),_n=ve(1),wn=ve(null),yn=ve(0),pn=ve(1),ta=ve([]),bn=ve(!1),dt=ve(!1),Ct=ve(!1),xn=ve({translateX:0,translateY:0,scale:1}),St=ve({active:!1,progress:0,startTime:0}),Mn=ve(null),kn=ve(!1),Qe=ve(50),Sn=ve(!1),Tt=ve(null);var fr=he('<label>Choose image: <input type="file" accept="image/*"/></label>');function ur(e,s){It(s,!1);function a(r){const o=r.target.files[0];if(!o)return;const h=URL.createObjectURL(o);$n.set(h),ht.set(h),ot.set(!0)}jt();var c=fr(),d=k(E(c));$(c),ie("change",d,a),D(e,c),Et()}var dr=he('<div class="preview svelte-1th6cal"><img alt="Selected disc preview" class="svelte-1th6cal"/></div>');function hr(e,s){It(s,!1);const a=()=>j($n,"$previewUrl",c),[c,d]=In(),r=ne();Ie(()=>a(),()=>{T(r,a())}),Cn();var o=Ve(),h=ze(o);{var x=m=>{var i=dr(),_=E(i);$(i),Te(()=>Ut(_,"src",t(r))),D(m,i)};re(h,m=>{t(r)&&m(x)})}D(e,o),Et(),d()}var vr=he('<div class="speed-hud svelte-byh4af"> </div>'),pr=he('<div class="edit-mode-indicator svelte-byh4af">‚öôÔ∏è EDIT MODE - Drag to position ‚Ä¢ Scroll to zoom</div> <div class="frame-counter svelte-byh4af"><button class="frame-btn svelte-byh4af" title="Decrease frame count">‚àí</button> <div class="frame-display svelte-byh4af"><div class="frame-number svelte-byh4af"> </div> <div class="frame-label svelte-byh4af">frames</div></div> <button class="frame-btn svelte-byh4af" title="Increase frame count">+</button></div>',1),mr=he('<div><canvas class="svelte-byh4af"></canvas> <!> <!></div>');function gr(e,s){It(s,!1);const a=()=>j(dt,"$editMode",p),c=()=>j(ot,"$isPlaying",p),d=()=>j(ht,"$imageUrl",p),r=()=>j(Tt,"$gifFrameCount",p),o=()=>j(Sn,"$isMobile",p),h=()=>j(et,"$rotationSpeed",p),x=()=>j(St,"$detectionAnimation",p),m=()=>j(_n,"$rotationDirection",p),i=()=>j(wn,"$detectedCircle",p),_=()=>j(bn,"$overlayVisible",p),v=()=>j(ta,"$detectedPositions",p),S=()=>j(Ct,"$confirmedDetection",p),w=()=>j(kn,"$flickerEnabled",p),C=()=>j(Qe,"$flickerFrequency",p),l=()=>j(yn,"$detectedCount",p),[p,b]=In();let u=ne(),y=ne(),n,H=0,I=ne(1);const ae=1,le=4;let G=ne(0),Q=ne(0);const K=new Map;let F=1,ee=0,ce=0,B=ne(),ge=ne(0),pe=0,_e=1,we=ne(!1),ye,L=0,tt=0,nt=0,A=ne(null),Fe=ne(!1),Ge;function Ht(g){T(Fe,!1),T(A,new Image),te(A,t(A).crossOrigin="anonymous"),te(A,t(A).onload=()=>{console.log("Image loaded:",g,"Size:",t(A).width,"x",t(A).height),T(Fe,!0),lt(),Ne()}),te(A,t(A).onerror=P=>{console.error("Erreur chargement:",g,P),T(Fe,!1)}),te(A,t(A).src=g)}function lt(){if(!t(y)||!t(u))return;const g=t(u).getBoundingClientRect(),P=window.devicePixelRatio||1;if(t(A)&&t(A).width&&t(A).height){const R=t(A).width,Y=t(A).height,U=Math.min(1400,Math.max(150,Math.round(g.width*Math.sqrt(R*R+Y*Y)/R)));te(u,t(u).style.height=U+"px");const J=t(u).getBoundingClientRect();te(y,t(y).style.width=J.width+"px"),te(y,t(y).style.height=J.height+"px"),te(y,t(y).width=Math.round(J.width*P)),te(y,t(y).height=Math.round(J.height*P))}else te(y,t(y).style.width=g.width+"px"),te(y,t(y).style.height=g.height+"px"),te(y,t(y).width=Math.round(g.width*P)),te(y,t(y).height=Math.round(g.height*P));n&&n.setTransform(P,0,0,P,0,0),Ne()}Tn(()=>{const g=()=>{const R="ontouchstart"in window||navigator.maxTouchPoints>0||window.innerWidth<768;Sn.set(R)};if(g(),window.addEventListener("resize",g),t(y)){if(Mn.set(t(y)),n=t(y).getContext("2d"),t(u)){const P=()=>{o()?t(I)>1||a()?te(u,t(u).style.touchAction="none"):te(u,t(u).style.touchAction="pan-y"):te(u,t(u).style.touchAction="none")};P(),xn.subscribe(P),dt.subscribe(P)}t(u)&&t(u).addEventListener("wheel",ct,{passive:!1}),lt(),Ge=new ResizeObserver(()=>lt()),t(u)&&Ge.observe(t(u)),t(u)&&(t(u).addEventListener("pointerdown",$t),t(u).addEventListener("pointermove",at),t(u).addEventListener("pointerup",vt),t(u).addEventListener("pointerleave",pt))}return()=>{Ge&&Ge.disconnect(),window.removeEventListener("resize",g)}});function $t(g){if(!t(u))return;(a()||t(I)>1)&&(g.preventDefault(),g.stopPropagation()),t(u).setPointerCapture(g.pointerId),K.set(g.pointerId,{x:g.clientX,y:g.clientY});const P=Date.now(),R=g.clientX-tt,Y=g.clientY-nt,U=Math.sqrt(R*R+Y*Y);if(P-L<300&&U<50&&!a()){ot.update(J=>!J),K.clear(),L=0;return}if(L=P,tt=g.clientX,nt=g.clientY,K.size===1&&(ee=g.clientX,ce=g.clientY,pe=g.clientY,_e=h()||1),K.size===2){const J=Array.from(K.values());F=t(I),at.pinchStartDist=Math.hypot(J[0].x-J[1].x,J[0].y-J[1].y)}}function at(g){if(t(u)){if((a()||t(I)>1)&&K.has(g.pointerId)&&(g.preventDefault(),g.stopPropagation()),K.has(g.pointerId)&&K.set(g.pointerId,{x:g.clientX,y:g.clientY}),K.size===2){const P=Array.from(K.values()),R=P[0],Y=P[1],U=Math.hypot(R.x-Y.x,R.y-Y.y),J=at.pinchStartDist||U,$e=U/J;let Me=Math.max(ae,Math.min(le,F*$e));const He={x:(R.x+Y.x)/2,y:(R.y+Y.y)/2},rt=t(y).clientWidth,z=t(y).clientHeight,X=t(u).getBoundingClientRect(),Z=He.x-(X.left+rt/2)-t(G),q=He.y-(X.top+z/2)-t(Q),O=t(I),fe=Me;T(G,t(G)-(fe/O-1)*Z),T(Q,t(Q)-(fe/O-1)*q),T(I,Me),T(we,!0),clearTimeout(ye);return}if(K.size===1){if(K.values().next().value,t(I)>1||a()){const P=g.clientX-ee,R=g.clientY-ce;T(G,t(G)+P),T(Q,t(Q)+R),ee=g.clientX,ce=g.clientY,Ne();return}else if(!o()){const P=pe-g.clientY,Y=Math.round(P*8),U=Math.max(10,Math.min(1e4,Math.round(_e+Y)));et.set(U),T(we,!0),clearTimeout(ye)}}}}function vt(g){if(t(u)){try{t(u).releasePointerCapture(g.pointerId)}catch{}clearTimeout(ye),T(we,!0),ye=setTimeout(()=>{T(we,!1)},4e3),K.delete(g.pointerId),K.size===0&&(clearTimeout(ye),T(we,!1))}}function pt(){clearTimeout(ye),T(we,!0),ye=setTimeout(()=>{T(we,!1)},4e3)}function ct(g){if(!t(u)||!g.ctrlKey&&!g.metaKey)return;g.preventDefault();const R=1+(-g.deltaY>0?.1:-.1),Y=Math.max(ae,Math.min(le,t(I)*R)),U=t(u).getBoundingClientRect(),J=g.clientX-(U.left+t(y).clientWidth/2)-t(G),$e=g.clientY-(U.top+t(y).clientHeight/2)-t(Q);T(G,t(G)-(Y/t(I)-1)*J),T(Q,t(Q)-(Y/t(I)-1)*$e),T(I,Y),Ne()}Xa(()=>{t(B)&&cancelAnimationFrame(t(B)),Ge&&Ge.disconnect(),ye&&clearTimeout(ye),t(u)&&(t(u).removeEventListener("pointerdown",$t),t(u).removeEventListener("pointermove",at),t(u).removeEventListener("pointerup",vt),t(u).removeEventListener("pointerleave",pt),t(u)&&t(u).removeEventListener("wheel",ct)),Mn.set(null)});function mt(g){const P=c()||x().active||a();if(!P||!t(Fe)){T(ge,0),!P&&t(B)&&(cancelAnimationFrame(t(B)),T(B,null));return}t(ge)||T(ge,g);const R=g-t(ge);if(T(ge,g),c()&&!a()){const Y=h()||0;H+=Y*(m()||1)*(R/1e3)}Ne(),T(B,requestAnimationFrame(mt))}function Ne(){if(!t(Fe)||!n||!t(A)||!t(y)){console.log("DrawFrame skipped:",{imageReady:t(Fe),ctx:!!n,htmlImg:!!t(A),canvas:!!t(y)});return}const g=t(y).clientWidth,P=t(y).clientHeight;n.clearRect(0,0,g,P),n.save();const R=t(A).width/t(A).height,Y=g/P;let U,J;R>Y?(U=g,J=g/R):(J=P,U=P*R);const $e=U*t(I),Me=J*t(I);let He=0,rt=0;if(i()){const z=U/t(A).width;He=(i().x-t(A).width/2)*z*t(I),rt=(i().y-t(A).height/2)*z*t(I)}if(n.translate(g/2+t(G),P/2+t(Q)),n.translate(He,rt),n.rotate(H*Math.PI/180),n.translate(-He,-rt),n.drawImage(t(A),-$e/2,-Me/2,$e,Me),_()&&i())try{const z=i(),X=U*t(I)/t(A).width,Z=(z.x-t(A).width/2)*X,q=(z.y-t(A).height/2)*X,O=z.r*X;n.beginPath(),n.lineWidth=Math.max(2,2),n.strokeStyle="rgba(255,160,0,0.85)",n.arc(Z,q,O,0,Math.PI*2),n.stroke(),n.strokeStyle="rgba(255,160,0,0.85)",n.lineWidth=Math.max(2,2);const fe=Math.max(15,O*.15);if(n.beginPath(),n.moveTo(Z-fe,q),n.lineTo(Z+fe,q),n.stroke(),n.beginPath(),n.moveTo(Z,q-fe),n.lineTo(Z,q+fe),n.stroke(),v()&&v().length){n.fillStyle="rgba(0,200,255,0.9)";for(const ke of v()){const be=ke.angle,Je=Z+Math.cos(be)*O,Re=q+Math.sin(be)*O;n.beginPath(),n.arc(Je,Re,Math.max(2,Math.round(O*.03)),0,Math.PI*2),n.fill()}}}catch(z){console.warn("overlay draw failed",z)}if(a()&&!S())try{let z;if(a()){const X=x().startTime||0;z=(X>0?Date.now()-X:Date.now())%2e3/2e3}else z=Math.min(1,(Date.now()-x().startTime)/2e3);if(n.fillStyle=a()?"rgba(0, 0, 0, 0.5)":"rgba(0, 0, 0, 0.3)",n.fillRect(-U/2-100,-J/2-100,U+200,J+200),i()){const X=i(),Z=U*t(I)/t(A).width,q=(X.x-t(A).width/2)*Z,O=(X.y-t(A).height/2)*Z,fe=X.r*Z;n.strokeStyle=`rgba(100, 200, 255, ${.8*(1-z)})`,n.lineWidth=2;for(let Re=0;Re<3;Re++){const _t=fe*(.3+z*1.2+Re*.3);n.beginPath(),n.arc(q,O,_t,0,Math.PI*2),n.stroke()}n.strokeStyle="rgba(100, 200, 255, 0.9)",n.lineWidth=3;const ke=z*Math.PI*6,be=fe*1.8;n.beginPath(),n.moveTo(q,O),n.lineTo(q+Math.cos(ke)*be,O+Math.sin(ke)*be),n.stroke();const Je=4+Math.sin(z*Math.PI*4)*2;n.fillStyle=`rgba(100, 200, 255, ${.9*Math.sin(z*Math.PI)})`,n.beginPath(),n.arc(q,O,Je,0,Math.PI*2),n.fill(),n.fillStyle=`rgba(100, 200, 255, ${Math.sin(z*Math.PI)})`,n.font="bold 14px sans-serif",n.textAlign="center",n.fillText("SCANNING...",q,O-fe-20)}else{const X=Math.max(U,J)/2;n.strokeStyle=`rgba(100, 200, 255, ${.6})`,n.lineWidth=2;for(let q=0;q<4;q++){const O=X*(z+q*.25)%1,fe=1-O;n.strokeStyle=`rgba(100, 200, 255, ${fe*.6})`,n.beginPath(),n.arc(0,0,O*X,0,Math.PI*2),n.stroke()}n.strokeStyle="rgba(100, 200, 255, 0.8)",n.lineWidth=3;const Z=z*Math.PI*4;n.beginPath(),n.moveTo(0,0),n.lineTo(Math.cos(Z)*X,Math.sin(Z)*X),n.stroke(),n.fillStyle=`rgba(100, 200, 255, ${.8+.2*Math.sin(z*Math.PI*4)})`,n.font="bold 18px sans-serif",n.textAlign="center",a()?(n.fillText("‚öôÔ∏è EDIT MODE - ADJUST POSITION & ZOOM",0,-60),n.font="bold 16px sans-serif",n.fillStyle="rgba(255, 200, 100, 0.95)",n.fillText("üéØ Align crosshair with rotation center",0,-20),n.font="14px sans-serif",n.fillStyle="rgba(200, 255, 200, 0.9)",n.fillText("üëÜ Drag to move  ‚Ä¢  üîç Scroll/Pinch to zoom",0,20),n.font="bold 14px sans-serif",n.fillStyle="rgba(100, 255, 100, 0.9)",n.fillText('Click "Confirm Detection" when ready',0,60)):(n.fillText("ANALYZING IMAGE...",0,-20),n.font="12px sans-serif",n.fillText(`${Math.round(z*100)}%`,0,10))}}catch(z){console.warn("radar animation failed",z)}if(w()&&c()){const z=1e3/C(),X=t(ge)%z/z,Z=Math.max(0,Math.min(1,(C()-40)/30));let q;if(Z<.33?q=X>.5?.85:0:Z<.67?q=Math.sin(X*Math.PI*2)*.5+.5>.6?.6:0:q=(Math.sin(X*Math.PI*2)*.5+.5)*.3,q>.05){const O=n.createRadialGradient(g/2,P/2,0,g/2,P/2,Math.max(g,P)*.8);O.addColorStop(0,`rgba(0, 0, 0, ${q*.7})`),O.addColorStop(.5,`rgba(0, 0, 0, ${q})`),O.addColorStop(1,`rgba(0, 0, 0, ${q*.9})`),n.fillStyle=O,n.fillRect(-g,-P,g*3,P*3),Z<.5&&(n.fillStyle=`rgba(20, 20, 40, ${q*.15})`,n.fillRect(-g,-P,g*3,P*3))}}if(n.restore(),a()||S()){const z=Date.now()%1e3/1e3,X=.7+.3*Math.sin(z*Math.PI*2);n.save(),n.translate(g/2,P/2);const Z=r()||l()||12;if(a()&&Z>0){const O=Math.min(g,P)*.3,fe=Math.PI*2/Z;for(let ke=0;ke<Z;ke++){const be=ke*fe-Math.PI/2,Je=be+fe,Re=.15+.1*(ke%2*.5);n.fillStyle=`rgba(100, 200, 255, ${Re})`,n.beginPath(),n.moveTo(0,0),n.arc(0,0,O,be,Je),n.closePath(),n.fill(),n.strokeStyle=`rgba(100, 200, 255, ${.4*X})`,n.lineWidth=2,n.beginPath(),n.moveTo(0,0),n.lineTo(Math.cos(be)*O,Math.sin(be)*O),n.stroke()}n.strokeStyle=`rgba(100, 200, 255, ${.5*X})`,n.lineWidth=3,n.beginPath(),n.arc(0,0,O,0,Math.PI*2),n.stroke()}n.strokeStyle=`rgba(255, 100, 0, ${X})`,n.lineWidth=4;const q=Math.min(g,P)*.1;n.beginPath(),n.arc(0,0,q*.7,0,Math.PI*2),n.stroke(),n.lineWidth=3,n.beginPath(),n.moveTo(-q,0),n.lineTo(q,0),n.stroke(),n.beginPath(),n.moveTo(0,-q),n.lineTo(0,q),n.stroke(),n.beginPath(),n.arc(0,0,10+3*Math.sin(z*Math.PI*2),0,Math.PI*2),n.fillStyle=`rgba(255, 100, 0, ${X})`,n.fill(),n.strokeStyle="rgba(255, 255, 255, 0.9)",n.lineWidth=2,n.stroke(),n.beginPath(),n.arc(0,0,3,0,Math.PI*2),n.fillStyle="rgba(255, 255, 255, 0.95)",n.fill(),n.restore()}}Ie(()=>a(),()=>{a()&&(T(G,0),T(Q,0),T(I,1),Ne())}),Ie(()=>(t(G),t(Q),t(I)),()=>{xn.set({translateX:t(G),translateY:t(Q),scale:t(I)})}),Ie(()=>(c(),Ct),()=>{c()&&Ct.set(!1)}),Ie(()=>(d(),t(A)),()=>{d()?Ht(d()):(t(A)&&T(A,null),T(Fe,!1),Ne())}),Ie(()=>r(),()=>{r()!==void 0&&Ne()}),Ie(()=>(c(),x(),a(),t(B)),()=>{c()||x().active||a()?t(B)||T(B,requestAnimationFrame(mt)):t(B)&&(cancelAnimationFrame(t(B)),T(B,null),T(ge,0))}),Cn(),jt();var Ue=mr(),je=E(Ue);Nn(je,g=>T(y,g),()=>t(y));var gt=k(je,2);{var Yt=g=>{var P=vr(),R=E(P);$(P),Te(Y=>Le(R,`Speed: ${Y??""}¬∞/s`),[()=>(h(),We(()=>h().toFixed(0)))]),D(g,P)};re(gt,g=>{t(we)&&g(Yt)})}var Dt=k(gt,2);{var At=g=>{var P=pr(),R=k(ze(P),2),Y=E(R),U=k(Y,2),J=E(U),$e=E(J,!0);$(J),Nt(2),$(U);var Me=k(U,2);$(R),Te(()=>Le($e,r()||12)),ie("click",Y,()=>Tt.set(Math.max(6,(r()||12)-1))),ie("click",Me,()=>Tt.set(Math.min(100,(r()||12)+1))),D(g,P)};re(Dt,g=>{a()&&g(At)})}$(Ue),Nn(Ue,g=>T(u,g),()=>t(u)),Te(()=>Gt(Ue,1,`canvas-wrapper ${a()?"edit-mode":""}`,"svelte-byh4af")),D(e,Ue),Et(),b()}async function _r(e,s,a={}){const{x:c,y:d,r}=s||{x:e.width/2,y:e.height/2,r:Math.min(e.width,e.height)/2},o=a.samples||720,h=a.innerOffset||-Math.max(2,Math.round(r*.06)),x=a.outerOffset||Math.max(2,Math.round(r*.06)),m=a.thresholdFactor||.6,i=document.createElement("canvas");i.width=e.width,i.height=e.height;const _=i.getContext("2d");_.drawImage(e,0,0);const v=_.getImageData(0,0,i.width,i.height).data,S=i.width,w=i.height;function C(F,ee){const ce=Math.round(F),B=Math.round(ee);if(ce<0||ce>=S||B<0||B>=w)return 0;const ge=(B*S+ce)*4,pe=v[ge],_e=v[ge+1],we=v[ge+2];return .2126*pe+.7152*_e+.0722*we}const l=new Array(o);for(let F=0;F<o;F++){const ee=F/o*Math.PI*2,ce=[],B=3;for(let pe=0;pe<B;pe++){const _e=pe/(B-1),we=r+h+(x-h)*_e,ye=c+we*Math.cos(ee),L=d+we*Math.sin(ee);ce.push(C(ye,L))}const ge=ce.reduce((pe,_e)=>pe+_e,0)/ce.length;l[F]=ge}const p=l.reduce((F,ee)=>F+ee,0)/l.length,b=Math.sqrt(l.reduce((F,ee)=>F+(ee-p)**2,0)/l.length),u=p+b*m,y=l.map(F=>F>u);let n=0,H=!1,I=[],ae=0;for(let F=0;F<y.length*2;F++){const ee=F%y.length;if(y[ee]?(ae++,H=!0):(H&&(I.push(ae),ae=0),H=!1),F>=y.length&&!H)break}H&&ae>0&&I.push(ae);const le=Math.max(2,Math.round(o/360*(a.minDegrees||5))),G=I.filter(F=>F>=le);n=G.length;const Q=[];let K=0;for(const F of I){const ee=K%o,ce=(K+F-1)%o,B=(ee+Math.floor(F/2))%o;Q.push({start:ee,end:ce,mid:B,angle:B/o*2*Math.PI}),K+=F+1}return{count:n,samples:l,mask:y,groups:G,positions:Q,canvas:i}}function wr(e,s=24,a={}){const c=[],{width:d,height:r}=e,o=a.circle||{x:d/2,y:r/2,r:Math.min(d,r)/2},h=a.margin??1.05,x=Math.round(o.r*h),m=x*2,i=a.outputSize||Math.max(32,Math.round(m)),_=a.fps||24,v=typeof a.rotationSpeed=="number"?a.rotationSpeed:0,S=a.direction==null?1:a.direction,w=document.createElement("canvas");w.width=m,w.height=m;const C=w.getContext("2d"),l=Math.round(o.x-x),p=Math.round(o.y-x);try{C.drawImage(e,l,p,m,m,0,0,m,m)}catch{C.drawImage(e,0,0)}const u=v/_*Math.PI/180*S;Math.round(m*(a.zoom||1));for(let y=0;y<s;y++){const n=y*u,H=document.createElement("canvas");H.width=i,H.height=i;const I=H.getContext("2d");I.translate(i/2,i/2),I.rotate(n);const ae=Math.round(m*(a.zoom||1)),le=ae;I.drawImage(w,-ae/2,-le/2,ae,le),c.push(H)}return c}function yr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Wt(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var mn={exports:{}},Yn;function br(){return Yn||(Yn=1,(function(e,s){(function(a){e.exports=a()})(function(){return(function a(c,d,r){function o(m,i){if(!d[m]){if(!c[m]){var _=typeof Wt=="function"&&Wt;if(!i&&_)return _(m,!0);if(h)return h(m,!0);var v=new Error("Cannot find module '"+m+"'");throw v.code="MODULE_NOT_FOUND",v}var S=d[m]={exports:{}};c[m][0].call(S.exports,function(w){var C=c[m][1][w];return o(C||w)},S,S.exports,a,c,d,r)}return d[m].exports}for(var h=typeof Wt=="function"&&Wt,x=0;x<r.length;x++)o(r[x]);return o})({1:[function(a,c,d){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}c.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(i){if(!h(i)||i<0||isNaN(i))throw TypeError("n must be a positive number");return this._maxListeners=i,this},r.prototype.emit=function(i){var _,v,S,w,C,l;if(this._events||(this._events={}),i==="error"&&(!this._events.error||x(this._events.error)&&!this._events.error.length)){if(_=arguments[1],_ instanceof Error)throw _;var p=new Error('Uncaught, unspecified "error" event. ('+_+")");throw p.context=_,p}if(v=this._events[i],m(v))return!1;if(o(v))switch(arguments.length){case 1:v.call(this);break;case 2:v.call(this,arguments[1]);break;case 3:v.call(this,arguments[1],arguments[2]);break;default:w=Array.prototype.slice.call(arguments,1),v.apply(this,w)}else if(x(v))for(w=Array.prototype.slice.call(arguments,1),l=v.slice(),S=l.length,C=0;C<S;C++)l[C].apply(this,w);return!0},r.prototype.addListener=function(i,_){var v;if(!o(_))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",i,o(_.listener)?_.listener:_),this._events[i]?x(this._events[i])?this._events[i].push(_):this._events[i]=[this._events[i],_]:this._events[i]=_,x(this._events[i])&&!this._events[i].warned&&(m(this._maxListeners)?v=r.defaultMaxListeners:v=this._maxListeners,v&&v>0&&this._events[i].length>v&&(this._events[i].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[i].length),typeof console.trace=="function"&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(i,_){if(!o(_))throw TypeError("listener must be a function");var v=!1;function S(){this.removeListener(i,S),v||(v=!0,_.apply(this,arguments))}return S.listener=_,this.on(i,S),this},r.prototype.removeListener=function(i,_){var v,S,w,C;if(!o(_))throw TypeError("listener must be a function");if(!this._events||!this._events[i])return this;if(v=this._events[i],w=v.length,S=-1,v===_||o(v.listener)&&v.listener===_)delete this._events[i],this._events.removeListener&&this.emit("removeListener",i,_);else if(x(v)){for(C=w;C-- >0;)if(v[C]===_||v[C].listener&&v[C].listener===_){S=C;break}if(S<0)return this;v.length===1?(v.length=0,delete this._events[i]):v.splice(S,1),this._events.removeListener&&this.emit("removeListener",i,_)}return this},r.prototype.removeAllListeners=function(i){var _,v;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[i]&&delete this._events[i],this;if(arguments.length===0){for(_ in this._events)_!=="removeListener"&&this.removeAllListeners(_);return this.removeAllListeners("removeListener"),this._events={},this}if(v=this._events[i],o(v))this.removeListener(i,v);else if(v)for(;v.length;)this.removeListener(i,v[v.length-1]);return delete this._events[i],this},r.prototype.listeners=function(i){var _;return!this._events||!this._events[i]?_=[]:o(this._events[i])?_=[this._events[i]]:_=this._events[i].slice(),_},r.prototype.listenerCount=function(i){if(this._events){var _=this._events[i];if(o(_))return 1;if(_)return _.length}return 0},r.listenerCount=function(i,_){return i.listenerCount(_)};function o(i){return typeof i=="function"}function h(i){return typeof i=="number"}function x(i){return typeof i=="object"&&i!==null}function m(i){return i===void 0}},{}],2:[function(a,c,d){var r,o,h,x,m;m=navigator.userAgent.toLowerCase(),x=navigator.platform.toLowerCase(),r=m.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0],h=r[1]==="ie"&&document.documentMode,o={name:r[1]==="version"?r[3]:r[1],version:h||parseFloat(r[1]==="opera"&&r[4]?r[4]:r[2]),platform:{name:m.match(/ip(?:ad|od|hone)/)?"ios":(m.match(/(?:webos|android)/)||x.match(/mac|win|linux/)||["other"])[0]}},o[o.name]=!0,o[o.name+parseInt(o.version,10)]=!0,o.platform[o.platform.name]=!0,c.exports=o},{}],3:[function(a,c,d){var r,o,h,x=function(v,S){for(var w in S)m.call(S,w)&&(v[w]=S[w]);function C(){this.constructor=v}return C.prototype=S.prototype,v.prototype=new C,v.__super__=S.prototype,v},m={}.hasOwnProperty,i=[].indexOf||function(v){for(var S=0,w=this.length;S<w;S++)if(S in this&&this[S]===v)return S;return-1},_=[].slice;r=a("events").EventEmitter,h=a("./browser.coffee"),o=(function(v){var S,w;x(C,v),S={workerScript:"gif.worker.js",workers:2,repeat:0,background:"#fff",quality:10,width:null,height:null,transparent:null,debug:!1,dither:!1},w={delay:500,copy:!1};function C(l){var p,b,u;this.running=!1,this.options={},this.frames=[],this.freeWorkers=[],this.activeWorkers=[],this.setOptions(l);for(b in S)u=S[b],(p=this.options)[b]==null&&(p[b]=u)}return C.prototype.setOption=function(l,p){if(this.options[l]=p,this._canvas!=null&&(l==="width"||l==="height"))return this._canvas[l]=p},C.prototype.setOptions=function(l){var p,b,u;b=[];for(p in l)m.call(l,p)&&(u=l[p],b.push(this.setOption(p,u)));return b},C.prototype.addFrame=function(l,p){var b,u;p==null&&(p={}),b={},b.transparent=this.options.transparent;for(u in w)b[u]=p[u]||w[u];if(this.options.width==null&&this.setOption("width",l.width),this.options.height==null&&this.setOption("height",l.height),typeof ImageData<"u"&&ImageData!==null&&l instanceof ImageData)b.data=l.data;else if(typeof CanvasRenderingContext2D<"u"&&CanvasRenderingContext2D!==null&&l instanceof CanvasRenderingContext2D||typeof WebGLRenderingContext<"u"&&WebGLRenderingContext!==null&&l instanceof WebGLRenderingContext)p.copy?b.data=this.getContextData(l):b.context=l;else if(l.childNodes!=null)p.copy?b.data=this.getImageData(l):b.image=l;else throw new Error("Invalid image");return this.frames.push(b)},C.prototype.render=function(){var l,p,b;if(this.running)throw new Error("Already running");if(this.options.width==null||this.options.height==null)throw new Error("Width and height must be set prior to rendering");if(this.running=!0,this.nextFrame=0,this.finishedFrames=0,this.imageParts=(function(){var u,y,n;for(n=[],u=0,y=this.frames.length;0<=y?u<y:u>y;0<=y?++u:--u)n.push(null);return n}).call(this),p=this.spawnWorkers(),this.options.globalPalette===!0)this.renderNextFrame();else for(l=0,b=p;0<=b?l<b:l>b;0<=b?++l:--l)this.renderNextFrame();return this.emit("start"),this.emit("progress",0)},C.prototype.abort=function(){for(var l;l=this.activeWorkers.shift(),l!=null;)this.log("killing active worker"),l.terminate();return this.running=!1,this.emit("abort")},C.prototype.spawnWorkers=function(){var l,p,b;return l=Math.min(this.options.workers,this.frames.length),(function(){b=[];for(var u=p=this.freeWorkers.length;p<=l?u<l:u>l;p<=l?u++:u--)b.push(u);return b}).apply(this).forEach((function(u){return function(y){var n;return u.log("spawning worker "+y),n=new Worker(u.options.workerScript),n.onmessage=function(H){return u.activeWorkers.splice(u.activeWorkers.indexOf(n),1),u.freeWorkers.push(n),u.frameFinished(H.data)},u.freeWorkers.push(n)}})(this)),l},C.prototype.frameFinished=function(l){var p,b;if(this.log("frame "+l.index+" finished - "+this.activeWorkers.length+" active"),this.finishedFrames++,this.emit("progress",this.finishedFrames/this.frames.length),this.imageParts[l.index]=l,this.options.globalPalette===!0&&(this.options.globalPalette=l.globalPalette,this.log("global palette analyzed"),this.frames.length>2))for(p=1,b=this.freeWorkers.length;1<=b?p<b:p>b;1<=b?++p:--p)this.renderNextFrame();return i.call(this.imageParts,null)>=0?this.renderNextFrame():this.finishRendering()},C.prototype.finishRendering=function(){var l,p,b,u,y,n,H,I,ae,le,G,Q,K,F,ee,ce;for(I=0,F=this.imageParts,y=0,ae=F.length;y<ae;y++)p=F[y],I+=(p.data.length-1)*p.pageSize+p.cursor;for(I+=p.pageSize-p.cursor,this.log("rendering finished - filesize "+Math.round(I/1e3)+"kb"),l=new Uint8Array(I),Q=0,ee=this.imageParts,n=0,le=ee.length;n<le;n++)for(p=ee[n],ce=p.data,b=H=0,G=ce.length;H<G;b=++H)K=ce[b],l.set(K,Q),b===p.data.length-1?Q+=p.cursor:Q+=p.pageSize;return u=new Blob([l],{type:"image/gif"}),this.emit("finished",u,l)},C.prototype.renderNextFrame=function(){var l,p,b;if(this.freeWorkers.length===0)throw new Error("No free workers");if(!(this.nextFrame>=this.frames.length))return l=this.frames[this.nextFrame++],b=this.freeWorkers.shift(),p=this.getTask(l),this.log("starting frame "+(p.index+1)+" of "+this.frames.length),this.activeWorkers.push(b),b.postMessage(p)},C.prototype.getContextData=function(l){return l.getImageData(0,0,this.options.width,this.options.height).data},C.prototype.getImageData=function(l){var p;return this._canvas==null&&(this._canvas=document.createElement("canvas"),this._canvas.width=this.options.width,this._canvas.height=this.options.height),p=this._canvas.getContext("2d"),p.setFill=this.options.background,p.fillRect(0,0,this.options.width,this.options.height),p.drawImage(l,0,0),this.getContextData(p)},C.prototype.getTask=function(l){var p,b;if(p=this.frames.indexOf(l),b={index:p,last:p===this.frames.length-1,delay:l.delay,transparent:l.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:h.name==="chrome"},l.data!=null)b.data=l.data;else if(l.context!=null)b.data=this.getContextData(l.context);else if(l.image!=null)b.data=this.getImageData(l.image);else throw new Error("Invalid frame");return b},C.prototype.log=function(){var l;if(l=1<=arguments.length?_.call(arguments,0):[],!!this.options.debug)return console.log.apply(console,l)},C})(r),c.exports=o},{"./browser.coffee":2,events:1}]},{},[3])(3)})})(mn)),mn.exports}var xr=br();const Mr=yr(xr),kr=""+new URL("../assets/gif.worker.CjkyQP34.js",import.meta.url).href;async function Sr(e,s=24){if(!e||e.length===0)throw new Error("No frames to export");const a=new Mr({workers:2,quality:10,width:e[0].width,height:e[0].height,workerScript:kr,repeat:0,background:null}),c=Math.round(1e3/s);for(const d of e){const r=d.width,o=d.height,h=document.createElement("canvas");h.width=r,h.height=o;const x=h.getContext("2d");x.fillStyle="#ffffff",x.fillRect(0,0,r,o),x.drawImage(d,0,0),a.addFrame(h,{delay:c,copy:!0})}return new Promise((d,r)=>{a.on("finished",function(o){const h=URL.createObjectURL(o);d(h)}),a.on("error",r),a.render()})}var Pr=he('<div class="export-overlay svelte-14nyow8" role="status" aria-live="polite"><div class="export-box svelte-14nyow8"><div class="spinner svelte-14nyow8" aria-hidden="true"></div> <div class="export-text svelte-14nyow8">Working‚Ä¶ Exporting GIF ‚Äî please wait</div></div></div>'),Cr=he('<button class="confirm-btn svelte-14nyow8">Confirm Detection</button> <button class="svelte-14nyow8">Cancel</button>',1),Tr=he("<button>Detect Circle & Count</button>"),Ir=he('<span style="background: #4a9eff; color: white; padding: 2px 8px; border-radius: 10px; font-size: 0.75em; font-weight: bold; margin-left: 4px;" class="svelte-14nyow8"> </span>'),Er=he('<div style="margin-top: 16px; padding: 12px; background: rgba(74, 158, 255, 0.08); border-radius: 6px; border: 1px solid rgba(74, 158, 255, 0.2);" class="svelte-14nyow8"><div style="font-weight: 600; margin-bottom: 10px; color: #4a9eff; font-size: 0.95em;" class="svelte-14nyow8">‚ö° Flicker Fusion Threshold</div> <div style="margin-bottom: 12px;" class="svelte-14nyow8"><div style="font-size: 0.85em; color: #aaa; margin-bottom: 6px;" class="svelte-14nyow8">Quick Presets:</div> <div style="display: flex; gap: 6px; flex-wrap: wrap;" class="svelte-14nyow8"><button class="svelte-14nyow8">42 Hz</button> <button class="svelte-14nyow8">50 Hz</button> <button class="svelte-14nyow8">55 Hz</button> <button class="svelte-14nyow8">60 Hz</button> <button class="svelte-14nyow8">70 Hz</button></div></div> <div style="margin-top: 12px;" class="svelte-14nyow8"><div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 6px;" class="svelte-14nyow8"><span style="font-size: 0.85em; color: #ccc;" class="svelte-14nyow8">Fine Tune:</span> <span style="font-size: 1.1em; font-weight: bold; color: #4a9eff;" class="svelte-14nyow8"> </span></div> <input type="range" min="40" max="70" step="0.5" style="width: 100%; cursor: pointer;" class="svelte-14nyow8"/> <div style="display: flex; justify-content: space-between; font-size: 0.7em; color: #666; margin-top: 4px;" class="svelte-14nyow8"><span class="svelte-14nyow8">40 Hz</span> <span style="color: #4a9eff; font-weight: 500;" class="svelte-14nyow8"><!></span> <span class="svelte-14nyow8">70 Hz</span></div></div> <div style="margin-top: 10px; padding: 8px; background: rgba(74, 158, 255, 0.12); border-radius: 4px; font-size: 0.8em;" class="svelte-14nyow8"><div style="font-weight: 500; color: #4a9eff; margin-bottom: 3px;" class="svelte-14nyow8"><!></div> <div style="color: #aaa; font-size: 0.9em;" class="svelte-14nyow8"><!></div></div></div>'),$r=he('<div class="drag-handle svelte-14nyow8" title="Drag to move"></div>'),Dr=he('<div><!> <div style="display:flex;gap:12px;align-items:center;" class="svelte-14nyow8"><button class="speed-btn svelte-14nyow8">‚àí</button> <div style="text-align:center;min-width:120px;" class="svelte-14nyow8"><div class="speed-display svelte-14nyow8"> </div> <div style="font-size:11px;opacity:0.6;margin-top:4px;" class="svelte-14nyow8">Rotation Speed</div></div> <button class="speed-btn svelte-14nyow8">+</button></div></div>'),Ar=he('<em style="font-size:12px;opacity:0.7;" class="svelte-14nyow8">(Use +/‚àí buttons above to adjust speed)</em>'),qr=he('<em style="font-size:12px;opacity:0.7;" class="svelte-14nyow8">(Touch: drag up to speed up, down to slow down)</em>'),Lr=he('<div class="svelte-14nyow8"><strong class="svelte-14nyow8">Circle:</strong> </div>'),Fr=he('<div class="panel svelte-14nyow8"><!> <div style="display:flex;gap:8px;align-items:center;flex-wrap:wrap;" class="svelte-14nyow8"><button> </button> <button class="svelte-14nyow8">Reverse</button> <!> <button class="svelte-14nyow8">Apply Suggested Speed</button> <div class="gif-export-group svelte-14nyow8"><button class="svelte-14nyow8"> </button> <label style="display:flex;align-items:center;gap:6px;" class="svelte-14nyow8"><span style="font-size:12px;opacity:0.8;" class="svelte-14nyow8">Frames:</span> <input type="number" min="6" step="1" style="width:80px;padding:4px;border-radius:4px;border:1px solid #ccc;" class="svelte-14nyow8"/> <span style="font-size:11px;opacity:0.6;" title="Leave empty for auto-detection" class="svelte-14nyow8"><!></span></label> <label style="display:flex;align-items:center;gap:6px;" class="svelte-14nyow8"><span style="font-size:12px;opacity:0.8;" class="svelte-14nyow8">FPS:</span> <select style="padding:4px;border-radius:4px;border:1px solid #ccc;background:#333;color:white;" class="svelte-14nyow8"><option class="svelte-14nyow8">10 (Slow/Classic)</option><option class="svelte-14nyow8">15 (Natural)</option><option class="svelte-14nyow8">20 (Smooth)</option><option class="svelte-14nyow8">24 (Cinema)</option><option class="svelte-14nyow8">30 (Fast)</option></select></label></div> <label style="display:flex;align-items:center;gap:6px;margin-left:6px;" class="svelte-14nyow8"><input type="checkbox" class="svelte-14nyow8"/> <span class="svelte-14nyow8">Show Overlay</span></label> <label style="display:flex;align-items:center;gap:6px;margin-left:6px;" class="svelte-14nyow8"><input type="checkbox" class="svelte-14nyow8"/> <span class="svelte-14nyow8">Flicker Effect</span> <!></label></div> <!> <!> <div style="margin-top:12px;" class="svelte-14nyow8"><div style="display:flex;gap:12px;align-items:center;flex-wrap:wrap;" class="svelte-14nyow8"><div class="svelte-14nyow8"><strong class="svelte-14nyow8">Current Speed:</strong> <!></div> <div style="display:flex;gap:6px;align-items:center;" class="svelte-14nyow8"><label for="manual-speed-input" style="font-size:12px;" class="svelte-14nyow8">Type speed:</label> <input id="manual-speed-input" type="number" min="1" step="1" style="width:100px;padding:6px;border-radius:4px;border:1px solid #ccc;" class="svelte-14nyow8"/> <button class="svelte-14nyow8">Set</button></div></div> <div class="svelte-14nyow8"><strong class="svelte-14nyow8">Detected count:</strong> </div> <div class="svelte-14nyow8"><strong class="svelte-14nyow8">Suggested speed:</strong> </div> <!></div></div>');function Rr(e,s){It(s,!1);const a=()=>j(ht,"$imageUrl",l),c=()=>j(xn,"$canvasTransform",l),d=()=>j(ot,"$isPlaying",l),r=()=>j(Mn,"$playerCanvas",l),o=()=>j(et,"$rotationSpeed",l),h=()=>j(Tt,"$gifFrameCount",l),x=()=>j(wn,"$detectedCircle",l),m=()=>j(yn,"$detectedCount",l),i=()=>j(pn,"$suggestedRotationSpeed",l),_=()=>j(bn,"$overlayVisible",l),v=()=>j(dt,"$editMode",l),S=()=>j(kn,"$flickerEnabled",l),w=()=>j(Qe,"$flickerFrequency",l),C=()=>j(Sn,"$isMobile",l),[l,p]=In(),b=ne(),u=ne(),y=ne(),n=ne(),H=ne();let I=ne(!1);async function ae(){ot.update(f=>!f)}function le(){et.update(f=>Math.min(1e4,f+60))}function G(){et.update(f=>Math.max(10,f-60))}function Q(){_n.update(f=>f*-1)}async function K(){if(!a())return;const M=Date.now();St.set({active:!0,progress:0,startTime:M}),dt.set(!0)}async function F(){const f=a();if(!f)return;T(I,!0);const M=c();dt.set(!1);const N=Date.now();St.set({active:!0,progress:0,startTime:N}),d()||requestAnimationFrame(()=>{});try{const W=await pt(f);let V=null;const se=r();if(se){const it=se.clientWidth,Ke=se.clientHeight,ft=W.width/W.height,qt=it/Ke;let wt,Lt;ft>qt?(wt=it,Lt=it/ft):(Lt=Ke,wt=Ke*ft);const Qt=-M.translateX,Ft=-M.translateY,yt=Qt/M.scale,en=Ft/M.scale,Rt=W.width/wt,tn=yt*Rt+W.width/2,zt=en*Rt+W.height/2;V={x:tn,y:zt,r:Math.min(W.width,W.height)/2*.9}}V||(V={x:W.width/2,y:W.height/2,r:Math.min(W.width,W.height)/2*.9});const ue=await _r(W,V,{samples:720}),Ye=2e3-(Date.now()-N);Ye>0&&await new Promise(it=>setTimeout(it,Ye)),wn.set(V),yn.set(ue.count),ta.set(ue.positions||[]);const qe=(ue.count>0?360/ue.count:1)*30;pn.set(qe),St.set({active:!1,progress:1,startTime:N}),Ct.set(!0),ot.set(!1)}finally{T(I,!1)}}function ee(){pn.subscribe(f=>{f&&et.set(f)})()}function ce(){dt.set(!1),Ct.set(!1),St.set({active:!1,progress:0,startTime:0})}let B=ne(0);function ge(){const f=Number(t(B))||0;f<=0||et.set(f)}let pe=ne(!1),_e=ne(15);async function we(){const f=a()||un(ht);if(!f)return alert("No image loaded to export.");if(!t(u))return alert("Please detect the circle before exporting the GIF.");const M=await pt(f),N=document.createElement("canvas");N.width=M.width,N.height=M.height,N.getContext("2d").drawImage(M,0,0,M.width,M.height),T(pe,!0);try{let V;t(b)&&t(b)!==t(y)*2?V=t(b):t(y)&&t(y)>0?V=Math.max(12,t(y)*2):V=t(b)||24;const se=t(u),ue=Number(un(et)||0),De=Number(un(_n)||1),Ye=360/V,Ze=wr(N,V,{circle:se,margin:1.1,zoom:1,fps:t(_e),rotationSpeed:Ye*t(_e),direction:De}),Ae=await Sr(Ze,t(_e)),qe=document.createElement("a");qe.href=Ae,qe.download="phenaki-export.gif",document.body.appendChild(qe),qe.click(),qe.remove()}catch(V){console.error("GIF export failed",V),alert("GIF export failed: "+(V&&V.message))}finally{T(pe,!1)}}const ye="phenaki.speedControlPos";let L=ne({left:null,top:null}),tt=ne(!1),nt=ne(!1),A={x:0,y:0},Fe={left:0,top:0},Ge=0;function Ht(){try{const f=localStorage.getItem(ye);f&&T(L,JSON.parse(f))}catch{}}function lt(){try{localStorage.setItem(ye,JSON.stringify(t(L)))}catch{}}function $t(f){const M=Date.now(),N=M-Ge<300;if(Ge=M,f.target&&f.target.closest&&f.target.closest("button"))return;const W=f.target&&f.target.closest&&f.target.closest(".drag-handle");if(!(!N&&!W)){T(tt,!0),T(nt,!0),A={x:f.clientX,y:f.clientY},Fe={left:t(L).left??Math.round((window.innerWidth-200)/2),top:t(L).top??Math.round((window.innerHeight-80)/2)};try{f.target.setPointerCapture(f.pointerId)}catch{}window.addEventListener("pointermove",at),window.addEventListener("pointerup",vt)}}function at(f){if(!t(nt))return;const M=f.clientX-A.x,N=f.clientY-A.y;te(L,t(L).left=Math.round(Fe.left+M)),te(L,t(L).top=Math.round(Fe.top+N))}function vt(f){T(nt,!1),T(tt,!1);try{f.target.releasePointerCapture&&f.target.releasePointerCapture(f.pointerId)}catch{}window.removeEventListener("pointermove",at),window.removeEventListener("pointerup",vt),lt()}Tn(()=>{Ht(),t(L).left==null&&te(L,t(L).left=Math.round((window.innerWidth-200)/2)),t(L).top==null&&te(L,t(L).top=Math.round((window.innerHeight-80)/2));function f(){const ue=Math.max(8,window.innerWidth-200-8),De=Math.max(8,window.innerHeight-80-8);t(L).left==null&&te(L,t(L).left=ue),t(L).top==null&&te(L,t(L).top=De),te(L,t(L).left=Math.min(Math.max(t(L).left,8),ue)),te(L,t(L).top=Math.min(Math.max(t(L).top,8),De))}f();const M=()=>{f(),lt()};return window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)});function pt(f){return new Promise((M,N)=>{const W=new Image;W.crossOrigin="anonymous",W.onload=()=>M(W),W.onerror=N,W.src=f})}Ie(()=>o(),()=>{T(B,Number(o()||0))}),Ie(()=>h(),()=>{T(b,h())}),Ie(()=>x(),()=>{T(u,x())}),Ie(()=>m(),()=>{T(y,m())}),Ie(()=>i(),()=>{T(n,i())}),Ie(()=>_(),()=>{T(H,_())}),Cn(),jt();var ct=Fr(),mt=E(ct);{var Ne=f=>{var M=Pr();D(f,M)};re(mt,f=>{t(pe)&&f(Ne)})}var Ue=k(mt,2),je=E(Ue);let gt;var Yt=E(je,!0);$(je);var Dt=k(je,2),At=k(Dt,2);{var g=f=>{var M=Cr(),N=ze(M),W=k(N,2);Te(()=>N.disabled=t(I)),ie("click",N,F),ie("click",W,ce),D(f,M)},P=f=>{var M=Tr();Te(()=>{Gt(M,1,Gn(t(u)?"":"detect-btn-required"),"svelte-14nyow8"),M.disabled=t(I)||!a()}),ie("click",M,K),D(f,M)};re(At,f=>{v()?f(g):f(P,!1)})}var R=k(At,2),Y=k(R,2),U=E(Y),J=E(U,!0);$(U);var $e=k(U,2),Me=k(E($e),2);kt(Me);var He=k(Me,2),rt=E(He);{var z=f=>{var M=me("Manual");D(f,M)},X=f=>{var M=Ve(),N=ze(M);{var W=se=>{var ue=me("Auto (x2)");D(se,ue)},V=se=>{var ue=me("Auto");D(se,ue)};re(N,se=>{t(y)?se(W):se(V,!1)},!0)}D(f,M)};re(rt,f=>{t(b)?f(z):f(X,!1)})}$(He),$($e);var Z=k($e,2),q=k(E(Z),2);Te(()=>{t(_e),Ya(()=>{})});var O=E(q);O.value=O.__value=10;var fe=k(O);fe.value=fe.__value=15;var ke=k(fe);ke.value=ke.__value=20;var be=k(ke);be.value=be.__value=24;var Je=k(be);Je.value=Je.__value=30,$(q),$(Z),$(Y);var Re=k(Y,2),_t=E(Re);kt(_t),Nt(2),$(Re);var Dn=k(Re,2),Xt=E(Dn);kt(Xt);var na=k(Xt,4);{var aa=f=>{var M=Ir(),N=E(M);$(M),Te(()=>Le(N,`${w()??""} Hz`)),D(f,M)};re(na,f=>{S()&&f(aa)})}$(Dn),$(Ue);var An=k(Ue,2);{var ra=f=>{var M=Er(),N=k(E(M),2),W=k(E(N),2),V=E(W),se=k(V,2),ue=k(se,2),De=k(ue,2),Ye=k(De,2);$(W),$(N);var Ze=k(N,2),Ae=E(Ze),qe=k(E(Ae),2),it=E(qe);$(qe),$(Ae);var Ke=k(Ae,2);kt(Ke);var ft=k(Ke,2),qt=k(E(ft),2),wt=E(qt);{var Lt=oe=>{var xe=me("üî¥ Visible");D(oe,xe)},Qt=oe=>{var xe=Ve(),bt=ze(xe);{var xt=de=>{var Se=me("üü° Fusion");D(de,Se)},Mt=de=>{var Se=me("üü¢ Smooth");D(de,Se)};re(bt,de=>{w()<58?de(xt):de(Mt,!1)},!0)}D(oe,xe)};re(wt,oe=>{w()<48?oe(Lt):oe(Qt,!1)})}$(qt),Nt(2),$(ft),$(Ze);var Ft=k(Ze,2),yt=E(Ft),en=E(yt);{var Rt=oe=>{var xe=me("‚ö° Strong Flicker");D(oe,xe)},tn=oe=>{var xe=Ve(),bt=ze(xe);{var xt=de=>{var Se=me("üéØ Critical Threshold");D(de,Se)},Mt=de=>{var Se=Ve(),nn=ze(Se);{var an=Pe=>{var Xe=me("‚ú® Near-Fusion");D(Pe,Xe)},rn=Pe=>{var Xe=Ve(),sn=ze(Xe);{var on=Ce=>{var st=me("üé¨ Cinema (60 Hz)");D(Ce,st)},ln=Ce=>{var st=me("üåü Ultra Smooth");D(Ce,st)};re(sn,Ce=>{w()<62?Ce(on):Ce(ln,!1)},!0)}D(Pe,Xe)};re(nn,Pe=>{w()<58?Pe(an):Pe(rn,!1)},!0)}D(de,Se)};re(bt,de=>{w()<52?de(xt):de(Mt,!1)},!0)}D(oe,xe)};re(en,oe=>{w()<48?oe(Rt):oe(tn,!1)})}$(yt);var zt=k(yt,2),va=E(zt);{var pa=oe=>{var xe=me("Noticeable flicker - classic phenakistoscope effect");D(oe,xe)},ma=oe=>{var xe=Ve(),bt=ze(xe);{var xt=de=>{var Se=me("Flicker begins to fuse - critical threshold");D(de,Se)},Mt=de=>{var Se=Ve(),nn=ze(Se);{var an=Pe=>{var Xe=me("Subtle pulsing - artistic sweet spot");D(Pe,Xe)},rn=Pe=>{var Xe=Ve(),sn=ze(Xe);{var on=Ce=>{var st=me("Standard cinema/TV rate - minimal flicker");D(Ce,st)},ln=Ce=>{var st=me("Above fusion threshold - very smooth");D(Ce,st)};re(sn,Ce=>{w()<62?Ce(on):Ce(ln,!1)},!0)}D(Pe,Xe)};re(nn,Pe=>{w()<58?Pe(an):Pe(rn,!1)},!0)}D(de,Se)};re(bt,de=>{w()<52?de(xt):de(Mt,!1)},!0)}D(oe,xe)};re(va,oe=>{w()<48?oe(pa):oe(ma,!1)})}$(zt),$(Ft),$(M),Te(()=>{ut(V,`padding: 6px 10px; border: 1px solid ${w()===42?"#ff6b6b":"#555"}; background: ${w()===42?"#ff6b6b":"#333"}; color: white; border-radius: 4px; cursor: pointer; font-size: 0.8em;`),ut(se,`padding: 6px 10px; border: 1px solid ${w()===50?"#ffa500":"#555"}; background: ${w()===50?"#ffa500":"#333"}; color: white; border-radius: 4px; cursor: pointer; font-size: 0.8em;`),ut(ue,`padding: 6px 10px; border: 1px solid ${w()===55?"#4a9eff":"#555"}; background: ${w()===55?"#4a9eff":"#333"}; color: white; border-radius: 4px; cursor: pointer; font-size: 0.8em;`),ut(De,`padding: 6px 10px; border: 1px solid ${w()===60?"#51cf66":"#555"}; background: ${w()===60?"#51cf66":"#333"}; color: white; border-radius: 4px; cursor: pointer; font-size: 0.8em;`),ut(Ye,`padding: 6px 10px; border: 1px solid ${w()===70?"#845ef7":"#555"}; background: ${w()===70?"#845ef7":"#333"}; color: white; border-radius: 4px; cursor: pointer; font-size: 0.8em;`),Le(it,`${w()??""} Hz`),jn(Ke,w())}),ie("click",V,()=>Qe.set(42)),ie("click",se,()=>Qe.set(50)),ie("click",ue,()=>Qe.set(55)),ie("click",De,()=>Qe.set(60)),ie("click",Ye,()=>Qe.set(70)),ie("input",Ke,oe=>Qe.set(+oe.target.value)),D(f,M)};re(An,f=>{S()&&f(ra)})}var qn=k(An,2);{var ia=f=>{var M=Dr(),N=E(M);{var W=Ae=>{var qe=$r();D(Ae,qe)};re(N,Ae=>{t(tt)&&Ae(W)})}var V=k(N,2),se=E(V),ue=k(se,2),De=E(ue),Ye=E(De);$(De),Nt(2),$(ue);var Ze=k(ue,2);$(V),$(M),Te(Ae=>{Gt(M,1,`speed-control ${t(tt)?"dragMode":""} ${t(nt)?"dragging":""}`,"svelte-14nyow8"),ut(M,`left: ${t(L),We(()=>t(L).left??16)??""}px; top: ${t(L),We(()=>t(L).top??16)??""}px;`),Le(Ye,`${Ae??""}¬∞/s`)},[()=>(o(),We(()=>o().toFixed(0)))]),ie("click",se,G),ie("click",Ze,le),ie("pointerdown",M,$t),D(f,M)};re(qn,f=>{x()&&f(ia)})}var Ln=k(qn,2),Vt=E(Ln),Bt=E(Vt),Fn=k(E(Bt)),sa=k(Fn);{var oa=f=>{var M=Ar();D(f,M)},la=f=>{var M=qr();D(f,M)};re(sa,f=>{C()?f(oa):f(la,!1)})}$(Bt);var Rn=k(Bt,2),Jt=k(E(Rn),2);kt(Jt);var ca=k(Jt,2);$(Rn),$(Vt);var Zt=k(Vt,2),fa=k(E(Zt));$(Zt);var Kt=k(Zt,2),ua=k(E(Kt));$(Kt);var da=k(Kt,2);{var ha=f=>{var M=Lr(),N=k(E(M));$(M),Te((W,V,se)=>Le(N,` x=${W??""}, y=${V??""}, r=${se??""}`),[()=>(t(u),We(()=>Math.round(t(u).x))),()=>(t(u),We(()=>Math.round(t(u).y))),()=>(t(u),We(()=>Math.round(t(u).r)))]),D(f,M)};re(da,f=>{t(u)&&f(ha)})}$(Ln),$(ct),Te((f,M)=>{gt=Gt(je,1,Gn(t(u)&&!d()?"play-highlight":""),"svelte-14nyow8",gt,{"pause-subtle":d()&&!t(u)}),je.disabled=!a(),Le(Yt,d()?"Pause":"Play"),R.disabled=!t(n),U.disabled=t(pe)||!r(),Le(J,t(pe)?"Exporting...":"Save GIF"),Ut(Me,"placeholder",t(y)?`Auto (${t(y)*2})`:"Auto (24)"),jn(Me,h()),sr(_t,t(H)),Le(Fn,` ${f??""}¬∞/s | `),Le(fa,` ${t(y)??0??""}`),Le(ua,` ${M??""}¬∞/s`)},[()=>(o(),We(()=>o().toFixed(0))),()=>(t(n),We(()=>t(n)?t(n).toFixed(0):"‚Äî"))]),ie("click",je,ae),ie("click",Dt,Q),ie("click",R,ee),ie("click",U,we),ie("input",Me,f=>Tt.set(f.target.value?Number(f.target.value):null)),ar(q,()=>t(_e),f=>T(_e,f)),ie("change",_t,f=>bn.set(f.target.checked)),cr(Xt,S,f=>Va(kn,f)),lr(Jt,()=>t(B),f=>T(B,f)),ie("click",ca,ge),D(e,ct),Et(),p()}var zr=he("<option> </option>"),Or=he('<div class="selector svelte-ai08gq"><label for="samples" class="svelte-ai08gq">Sample Images:</label> <select id="samples" class="svelte-ai08gq"><option>-- Choose a sample --</option><!></select></div>');function Wr(e,s){It(s,!1);const a="https://raw.githubusercontent.com/tclaret/phenakistoscope-simulator/main/images",c="https://raw.githubusercontent.com/tclaret/phenaki-lab/main/img",d=[{name:"Woman Chopping Tree",file:"WomanChoppingTree.jpg",repo:"old"},{name:"Dancing",file:"Dancing.jpg",repo:"old"},{name:"Jongleur",file:"Jongleur.png",repo:"old"},{name:"a_cheval",file:"a_cheval.png",repo:"old"},{name:"McLean_1",file:"McLean_1.png",repo:"old"},{name:"Gernamy_1949",file:"Gernamy_1949_R_Balzer.png",repo:"old"},{name:"AEO175939",file:"AEO175939_PhenakistoscopeGiroux60.jpg",repo:"old"},{name:"AEO185553",file:"AEO185553_PhenakistiscopeDisc_ManInBlueAndRed.jpg",repo:"old"},{name:"medium_1990_5036_3369",file:"medium_1990_5036_3369.jpg",repo:"old"},{name:"medium_a001813b",file:"medium_a001813b.jpg",repo:"old"},{name:"tumblr_obd6fh",file:"tumblr_obd6fhGFSZ1r9jbwno1_500.png",repo:"old"},{name:"tumblr_oc1cz",file:"tumblr_oc1czn99ZM1r9jbwno1_500.png",repo:"old"},{name:"Phantasmascope Faces",file:"Phantasmascope_faces.png",repo:"old"},{name:"722a6790240569.5e126845d9b56",file:"722a6790240569.5e126845d9b56.png",repo:"old"},{name:"Fantascope Disc 1833",file:"fantascope-disc-1833.png",repo:"old"},{name:"Face",file:"a_face__.jpg",repo:"new"},{name:"Culbute",file:"culbute.jpg",repo:"new"},{name:"Grenouille",file:"Grenouille__.jpg",repo:"new"},{name:"Oh Soccer",file:"oh_soccer.jpg",repo:"new"},{name:"Un Grand Un Petit",file:"un_grand_un_petit.jpg",repo:"new"},{name:"Autre Culbutte",file:"autre_culbutte.jpg",repo:"new"},{name:"Dancing 2",file:"dancing_.jpg",repo:"new"},{name:"Il Pompe de l'eau",file:"il_pompe_de_leau.jpg",repo:"new"},{name:"Porceline",file:"porceline.jpg",repo:"new"},{name:"Volants",file:"volants_.png",repo:"new"},{name:"Ce Qui",file:"ce_qui.jpg",repo:"new"},{name:"Des Anges",file:"des_anges.jpg",repo:"new"},{name:"Moulin",file:"moulin_.jpg",repo:"new"},{name:"Rats",file:"rats__.jpg",repo:"new"},{name:"Corde √† Danser",file:"corde_a_denser_.jpg",repo:"new"},{name:"Ecureuil",file:"ecureuil.jpg",repo:"new"},{name:"Noel Noel",file:"noel_noel.jpg",repo:"new"},{name:"Tirreur",file:"tirreur_.jpg",repo:"new"},{name:"C Pastel",file:"c_pastel.jpg",repo:"new"},{name:"G√©om√©trique",file:"geometrique.jpg",repo:"new"},{name:"Nuages en Scie",file:"nuages_en_scie.jpg",repo:"new"},{name:"Tons Pastels",file:"tons_pastels.jpg",repo:"new"},{name:"Des Ouiseaux",file:"DesOuaisaux.png",repo:"new"},{name:"Feels Like Flying",file:"feels_like_flying.png",repo:"new"},{name:"Gros Meusieur",file:"GrosMeusieur.png",repo:"new"},{name:"Jongle avec les Otaries",file:"Jongle_avec_les_otaries.png",repo:"new"},{name:"Cin√©math√®que 1",file:"cinemateque_francaise_1.png",repo:"new"},{name:"Cin√©math√®que 2",file:"cinemateque_francaise_2.png",repo:"new"},{name:"Cin√©math√®que 3",file:"cinemateque_francaise_3.png",repo:"new"},{name:"Cin√©math√®que 4",file:"cinemateque_francaise_4.png",repo:"new"},{name:"Cin√©math√®que 5",file:"cinemateque_francaise_5.png",repo:"new"},{name:"Cin√©math√®que 6",file:"cinemateque_francaise_6.png",repo:"new"},{name:"Cin√©math√®que 7",file:"cinemateque_francaise_7.png",repo:"new"},{name:"Cin√©math√®que 8",file:"cinemateque_francaise_8.png",repo:"new"},{name:"Cin√©math√®que 9",file:"cinemateque_francaise_9.png",repo:"new"},{name:"Cin√©math√®que 10",file:"cinemateque_francaise_10.png",repo:"new"},{name:"Cin√©math√®que 11",file:"cinemateque_francaise_11.png",repo:"new"},{name:"Cin√©math√®que 12",file:"cinemateque_francaise_12.png",repo:"new"},{name:"Cin√©math√®que 13",file:"cinemateque_francaise_13.png",repo:"new"},{name:"Cin√©math√®que 14",file:"cinemateque_francaise_14.png",repo:"new"},{name:"Cin√©math√®que 15",file:"cinemateque_francaise_15.png",repo:"new"},{name:"Cin√©math√®que 16",file:"cinemateque_francaise_16.png",repo:"new"},{name:"Cin√©math√®que 17",file:"cinemateque_francaise_17.png",repo:"new"},{name:"Cin√©math√®que 18",file:"cinemateque_francaise_18.png",repo:"new"},{name:"Cin√©math√®que 19",file:"cinemateque_francaise_19.png",repo:"new"},{name:"Cin√©math√®que 20",file:"cinemateque_francaise_20.png",repo:"new"},{name:"Cin√©math√®que 21",file:"cinemateque_francaise_21.png",repo:"new"},{name:"Cin√©math√®que 22",file:"cinemateque_francaise_22.png",repo:"new"},{name:"Cin√©math√®que 23",file:"cinemateque_francaise_23.png",repo:"new"},{name:"Cin√©math√®que 24",file:"cinemateque_francaise_24.png",repo:"new"},{name:"Cin√©math√®que 25",file:"cinemateque_francaise_25.png",repo:"new"}];function r(i){const v=`${i.repo==="new"?c:a}/${i.file}`;ht.set(v),$n.set(v),ot.set(!0)}Tn(()=>{let i=!1;if(ht.subscribe(v=>{v&&(i=!0)})(),!i){const v=d[Math.floor(Math.random()*d.length)];v&&r(v)}}),jt();var o=Or(),h=k(E(o),2),x=E(h);x.value=x.__value="";var m=k(x);Ja(m,1,()=>d,i=>i.file,(i,_)=>{var v=zr(),S=E(v,!0);$(v);var w={};Te(()=>{Le(S,t(_).name),w!==(w=t(_).file)&&(v.value=(v.__value=t(_).file)??"")}),D(i,v)}),$(h),$(o),ie("change",h,i=>{const _=i.target.selectedIndex-1;_>=0&&r(d[_])}),D(e,o),Et()}var Nr=he('<div class="container svelte-1uha8ag"><h1 class="svelte-1uha8ag">Phenakistoscope Lab</h1> <p class="sub svelte-1uha8ag">Convert old phenakistoscope discs into animated GIFs</p> <!> <!> <!> <!> <!></div>');function Br(e){var s=Nr(),a=k(E(s),4);ur(a,{});var c=k(a,2);Wr(c,{});var d=k(c,2);hr(d,{});var r=k(d,2);gr(r,{});var o=k(r,2);Rr(o,{}),$(s),D(e,s)}export{Br as component};
