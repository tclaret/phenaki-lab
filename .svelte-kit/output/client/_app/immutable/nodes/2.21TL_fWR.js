import{f as fe,a as T,c as qe,t as pe}from"../chunks/C2OulXxV.js";import"../chunks/u-GhMVP5.js";import{G as pr,v as ke,w as gr,g as t,av as mr,I as wr,J as _r,K as Fn,L as zn,M as an,D as Rt,a3 as yr,aq as br,aa as xr,x as He,C as pn,B as Hn,F as Mr,Q as te,a1 as Rn,ao as Yn,aI as Xn,aJ as kr,y as Vn,A as Sr,aK as Pr,aL as Er,aM as on,ak as Tr,aN as Ir,aO as $r,an as Cr,z as Dr,aP as Mn,N as Ar,R as Lr,aQ as Fr,aR as zr,aS as Bn,aT as Rr,aU as Or,aV as Wr,P as Nr,aW as Ur,aX as jr,aG as Gr,b as De,O as Jn,p as Et,j as Tt,s as k,k as I,l as $,aY as Ae,aZ as kn,i as Re,U as E,t as Pe,a_ as ae,a$ as qr,ab as ln}from"../chunks/BmgSzj6w.js";import{e as ce,s as $e}from"../chunks/hAALANAn.js";import{i as Ut}from"../chunks/BgyTcsX8.js";import{w as ve,o as Sn,a as Hr,g as cn}from"../chunks/B3QUX6bn.js";import{i as se,s as Pn,a as J,b as On,d as Yr}from"../chunks/Bv2EIizG.js";function Xr(e,a,r){for(var c=[],v=a.length,i=0;i<v;i++)Ir(a[i].e,c,!0);$r(c,()=>{var o=c.length===0&&r!==null;if(o){var h=r,x=h.parentNode;Cr(x),x.append(h),e.items.clear(),Ce(e,a[0].prev,a[v-1].next)}for(var p=0;p<v;p++){var l=a[p];o||(e.items.delete(l.k),Ce(e,l.prev,l.next)),Dr(l.e,!o)}e.first===a[0]&&(e.first=a[0].prev)})}function Vr(e,a,r,c,v,i=null){var o=e,h=new Map,x=null;ke&&gr();var p=null,l=mr(()=>{var u=r();return Xn(u)?u:u==null?[]:Yn(u)}),m,g=!0;function y(){Br(_,m,o,a,c),p!==null&&(m.length===0?(p.fragment?(o.before(p.fragment),p.fragment=null):Vn(p.effect),M.first=p.effect):Sr(p.effect,()=>{p=null}))}var M=pr(()=>{m=t(l);var u=m.length;let s=!1;if(ke){var f=wr(o)===_r;f!==(u===0)&&(o=Fn(),zn(o),an(!1),s=!0)}for(var n=new Set,C=He,S=null,q=Mr(),G=0;G<u;G+=1){ke&&Rt.nodeType===yr&&Rt.data===br&&(o=Rt,s=!0,an(!1));var z=m[G],U=c(z,G),R=g?null:h.get(U);R?(xr(R.v,z),R.i=G,q&&C.skipped_effects.delete(R.e)):(R=Jr(g?o:null,S,z,U,G,v,a,r),g&&(R.o=!0,S===null?x=R:S.next=R,S=R),h.set(U,R)),n.add(U)}if(u===0&&i&&!p)if(g)p={fragment:null,effect:pn(()=>i(o))};else{var ge=document.createDocumentFragment(),me=Hn();ge.append(me),p={fragment:ge,effect:pn(()=>i(me))}}if(ke&&u>0&&zn(Fn()),!g)if(q){for(const[A,D]of h)n.has(A)||C.skipped_effects.add(D.e);C.oncommit(y),C.ondiscard(()=>{})}else y();s&&an(!0),t(l)}),_={effect:M,items:h,first:x};g=!1,ke&&(o=Rt)}function Br(e,a,r,c,v){var i=a.length,o=e.items,h=e.first,x,p=null,l=[],m=[],g,y,M,_;for(_=0;_<i;_+=1){if(g=a[_],y=v(g,_),M=o.get(y),e.first??=M,!M.o){M.o=!0;var u=p?p.next:h;Ce(e,p,M),Ce(e,M,u),fn(M,u,r),p=M,l=[],m=[],h=p.next;continue}if((M.e.f&on)!==0&&Vn(M.e),M!==h){if(x!==void 0&&x.has(M)){if(l.length<m.length){var s=m[0],f;p=s.prev;var n=l[0],C=l[l.length-1];for(f=0;f<l.length;f+=1)fn(l[f],s,r);for(f=0;f<m.length;f+=1)x.delete(m[f]);Ce(e,n.prev,C.next),Ce(e,p,n),Ce(e,C,s),h=s,p=C,_-=1,l=[],m=[]}else x.delete(M),fn(M,h,r),Ce(e,M.prev,M.next),Ce(e,M,p===null?e.first:p.next),Ce(e,p,M),p=M;continue}for(l=[],m=[];h!==null&&h.k!==y;)(h.e.f&on)===0&&(x??=new Set).add(h),m.push(h),h=h.next;if(h===null)continue;M=h}l.push(M),p=M,h=M.next}let S=o.size>i;if(h!==null||x!==void 0){for(var q=x===void 0?[]:Yn(x);h!==null;)(h.e.f&on)===0&&q.push(h),h=h.next;var G=q.length;if(S=o.size-G>i,G>0){var z=null;Xr(e,q,z)}}if(S)for(const U of o.values())U.o||(Ce(e,p,U),p=U);e.effect.last=p&&p.e}function Jr(e,a,r,c,v,i,o,h){var x=(o&Pr)!==0,p=(o&Er)===0,l=x?p?te(r,!1,!1):Rn(r):r,m=(o&kr)===0?v:Rn(v),g={i:m,v:l,k:c,a:null,e:null,o:!1,prev:a,next:null};try{if(e===null){var y=document.createDocumentFragment();y.append(e=Hn())}return g.e=pn(()=>i(e,l,m,h)),a!==null&&(a.next=g),g}finally{}}function fn(e,a,r){for(var c=e.next?e.next.e.nodes_start:r,v=a?a.e.nodes_start:r,i=e.e.nodes_start;i!==null&&i!==c;){var o=Tr(i);v.before(i),i=o}}function Ce(e,a,r){a===null?(e.first=r,e.effect.first=r&&r.e):(a.e.next&&(a.e.next.prev=null),a.next=r,a.e.next=r&&r.e),r!==null&&(r.e.prev&&(r.e.prev.next=null),r.prev=a,r.e.prev=a&&a.e)}function Zn(e){var a,r,c="";if(typeof e=="string"||typeof e=="number")c+=e;else if(typeof e=="object")if(Array.isArray(e)){var v=e.length;for(a=0;a<v;a++)e[a]&&(r=Zn(e[a]))&&(c&&(c+=" "),c+=r)}else for(r in e)e[r]&&(c&&(c+=" "),c+=r);return c}function Zr(){for(var e,a,r=0,c="",v=arguments.length;r<v;r++)(e=arguments[r])&&(a=Zn(e))&&(c&&(c+=" "),c+=a);return c}function Wn(e){return typeof e=="object"?Zr(e):e??""}const Nn=[...` 	
\r\f¬†\v\uFEFF`];function Kr(e,a,r){var c=e==null?"":""+e;if(a&&(c=c?c+" "+a:a),r){for(var v in r)if(r[v])c=c?c+" "+v:v;else if(c.length)for(var i=v.length,o=0;(o=c.indexOf(v,o))>=0;){var h=o+i;(o===0||Nn.includes(c[o-1]))&&(h===c.length||Nn.includes(c[h]))?c=(o===0?"":c.substring(0,o))+c.substring(h+1):o=h}}return c===""?null:c}function Qr(e,a){return e==null?null:String(e)}function Wt(e,a,r,c,v,i){var o=e.__className;if(ke||o!==r||o===void 0){var h=Kr(r,c,i);(!ke||h!==e.getAttribute("class"))&&(h==null?e.removeAttribute("class"):e.className=h),e.__className=r}else if(i&&v!==i)for(var x in i){var p=!!i[x];(v==null||p!==!!v[x])&&e.classList.toggle(x,p)}return i}function ct(e,a,r,c){var v=e.__style;if(ke||v!==a){var i=Qr(a);(!ke||i!==e.getAttribute("style"))&&(i==null?e.removeAttribute("style"):e.style.cssText=i),e.__style=a}return c}function Kn(e,a,r=!1){if(e.multiple){if(a==null)return;if(!Xn(a))return Fr();for(var c of e.options)c.selected=a.includes(St(c));return}for(c of e.options){var v=St(c);if(zr(v,a)){c.selected=!0;return}}(!r||a!==void 0)&&(e.selectedIndex=-1)}function es(e){var a=new MutationObserver(()=>{Kn(e,e.__value)});a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Lr(()=>{a.disconnect()})}function ts(e,a,r=a){var c=new WeakSet,v=!0;Mn(e,"change",i=>{var o=i?"[selected]":":checked",h;if(e.multiple)h=[].map.call(e.querySelectorAll(o),St);else{var x=e.querySelector(o)??e.querySelector("option:not([disabled])");h=x&&St(x)}r(h),He!==null&&c.add(He)}),Ar(()=>{var i=a();if(e===document.activeElement){var o=Bn??He;if(c.has(o))return}if(Kn(e,i,v),v&&i===void 0){var h=e.querySelector(":checked");h!==null&&(i=St(h),r(i))}e.__value=i,v=!1}),es(e)}function St(e){return"__value"in e?e.__value:e.value}const ns=Symbol("is custom element"),rs=Symbol("is html");function Mt(e){if(ke){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var c=e.value;Nt(e,"value",null),e.value=c}if(e.hasAttribute("checked")){var v=e.checked;Nt(e,"checked",null),e.checked=v}}};e.__on_r=r,Nr(r),Ur()}}function ss(e,a){var r=En(e);r.value===(r.value=a??void 0)||e.value===a&&(a!==0||e.nodeName!=="PROGRESS")||(e.value=a??"")}function as(e,a){var r=En(e);r.checked!==(r.checked=a??void 0)&&(e.checked=a)}function Nt(e,a,r,c){var v=En(e);ke&&(v[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||v[a]!==(v[a]=r)&&(a==="loading"&&(e[jr]=r),r==null?e.removeAttribute(a):typeof r!="string"&&is(e).includes(a)?e[a]=r:e.setAttribute(a,r))}function En(e){return e.__attributes??={[ns]:e.nodeName.includes("-"),[rs]:e.namespaceURI===Rr}}var Un=new Map;function is(e){var a=e.getAttribute("is")||e.nodeName,r=Un.get(a);if(r)return r;Un.set(a,r=[]);for(var c,v=e,i=Element.prototype;i!==v;){c=Wr(v);for(var o in c)c[o].set&&r.push(o);v=Or(v)}return r}function jn(e,a,r=a){var c=new WeakSet;Mn(e,"input",async v=>{var i=v?e.defaultValue:e.value;if(i=dn(e)?un(i):i,r(i),He!==null&&c.add(He),await Gr(),i!==(i=a())){var o=e.selectionStart,h=e.selectionEnd,x=e.value.length;if(e.value=i??"",h!==null){var p=e.value.length;o===h&&h===x&&p>x?(e.selectionStart=p,e.selectionEnd=p):(e.selectionStart=o,e.selectionEnd=Math.min(h,p))}}}),(ke&&e.defaultValue!==e.value||De(a)==null&&e.value)&&(r(dn(e)?un(e.value):e.value),He!==null&&c.add(He)),Jn(()=>{var v=a();if(e===document.activeElement){var i=Bn??He;if(c.has(i))return}dn(e)&&v===un(e.value)||e.type==="date"&&!v&&!e.value||v!==e.value&&(e.value=v??"")})}function os(e,a,r=a){Mn(e,"change",c=>{var v=c?e.defaultChecked:e.checked;r(v)}),(ke&&e.defaultChecked!==e.checked||De(a)==null)&&r(e.checked),Jn(()=>{var c=a();e.checked=!!c})}function dn(e){var a=e.type;return a==="number"||a==="range"}function un(e){return e===""?null:+e}const Tn=ve(null),dt=ve(null),st=ve(!1),et=ve(360),gn=ve(1),mn=ve(null),Gn=ve(0),vn=ve(1),Qn=ve([]),wn=ve(!1),ft=ve(!1),Pt=ve(!1),_n=ve({translateX:0,translateY:0,scale:1}),kt=ve({active:!1,progress:0,startTime:0}),yn=ve(null),bn=ve(!1),Qe=ve(50),xn=ve(!1);var ls=fe('<label>Choose image: <input type="file" accept="image/*"/></label>');function cs(e,a){Et(a,!1);function r(i){const o=i.target.files[0];if(!o)return;const h=URL.createObjectURL(o);Tn.set(h),dt.set(h),st.set(!0)}Ut();var c=ls(),v=k(I(c));$(c),ce("change",v,r),T(e,c),Tt()}var fs=fe('<div class="preview svelte-1th6cal"><img alt="Selected disc preview" class="svelte-1th6cal"/></div>');function ds(e,a){Et(a,!1);const r=()=>J(Tn,"$previewUrl",c),[c,v]=Pn(),i=te();Ae(()=>r(),()=>{E(i,r())}),kn();var o=qe(),h=Re(o);{var x=p=>{var l=fs(),m=I(l);$(l),Pe(()=>Nt(m,"src",t(i))),T(p,l)};se(h,p=>{t(i)&&p(x)})}T(e,o),Tt(),v()}var us=fe('<div class="speed-hud svelte-byh4af"> </div>'),vs=fe('<div class="edit-mode-indicator svelte-byh4af">‚öôÔ∏è EDIT MODE - Drag to position ‚Ä¢ Scroll to zoom</div>'),hs=fe('<div><canvas class="svelte-byh4af"></canvas> <!> <!></div>');function ps(e,a){Et(a,!1);const r=()=>J(ft,"$editMode",_),c=()=>J(st,"$isPlaying",_),v=()=>J(dt,"$imageUrl",_),i=()=>J(xn,"$isMobile",_),o=()=>J(et,"$rotationSpeed",_),h=()=>J(kt,"$detectionAnimation",_),x=()=>J(gn,"$rotationDirection",_),p=()=>J(mn,"$detectedCircle",_),l=()=>J(wn,"$overlayVisible",_),m=()=>J(Qn,"$detectedPositions",_),g=()=>J(Pt,"$confirmedDetection",_),y=()=>J(bn,"$flickerEnabled",_),M=()=>J(Qe,"$flickerFrequency",_),[_,u]=Pn();let s=te(),f=te(),n,C=0,S=te(1);const q=1,G=4;let z=te(0),U=te(0);const R=new Map;let ge=1,me=0,A=0,D=te(),ee=te(0),de=0,we=1,ue=te(!1),ne,Ee=0,L=0,Oe=0,F=te(null),Le=te(!1),Fe;function It(w){E(Le,!1),E(F,new Image),ae(F,t(F).crossOrigin="anonymous"),ae(F,t(F).onload=()=>{E(Le,!0),ut(),ze()}),ae(F,t(F).onerror=P=>{console.error("Erreur chargement:",w,P),E(Le,!1)}),ae(F,t(F).src=w)}function ut(){if(!t(f)||!t(s))return;const w=t(s).getBoundingClientRect(),P=window.devicePixelRatio||1;if(t(F)&&t(F).width&&t(F).height){const Z=t(F).width,K=t(F).height,Q=Math.min(1400,Math.max(150,Math.round(w.width*Math.sqrt(Z*Z+K*K)/Z)));ae(s,t(s).style.height=Q+"px");const H=t(s).getBoundingClientRect();ae(f,t(f).style.width=H.width+"px"),ae(f,t(f).style.height=H.height+"px"),ae(f,t(f).width=Math.round(H.width*P)),ae(f,t(f).height=Math.round(H.height*P))}else ae(f,t(f).style.width=w.width+"px"),ae(f,t(f).style.height=w.height+"px"),ae(f,t(f).width=Math.round(w.width*P)),ae(f,t(f).height=Math.round(w.height*P));n&&n.setTransform(P,0,0,P,0,0),ze()}Sn(()=>{const w=()=>{const P=window.innerWidth<768||"ontouchstart"in window&&window.innerWidth<1024;xn.set(P)};if(w(),window.addEventListener("resize",w),t(f)){if(yn.set(t(f)),n=t(f).getContext("2d"),t(s)){const P=()=>{i()?ae(s,t(s).style.touchAction=t(S)>1||r()?"none":"pan-y"):ae(s,t(s).style.touchAction="none")};P(),_n.subscribe(P),ft.subscribe(P)}t(s)&&t(s).addEventListener("wheel",gt,{passive:!1}),ut(),Fe=new ResizeObserver(()=>ut()),t(s)&&Fe.observe(t(s)),t(s)&&(t(s).addEventListener("pointerdown",vt),t(s).addEventListener("pointermove",at),t(s).addEventListener("pointerup",ht),t(s).addEventListener("pointerleave",pt))}return()=>{Fe&&Fe.disconnect(),window.removeEventListener("resize",w)}});function vt(w){if(!t(s))return;(r()||t(S)>1)&&w.preventDefault(),t(s).setPointerCapture(w.pointerId),R.set(w.pointerId,{x:w.clientX,y:w.clientY});const P=Date.now(),Z=w.clientX-L,K=w.clientY-Oe,Q=Math.sqrt(Z*Z+K*K);if(P-Ee<300&&Q<50&&!r()){st.update(H=>!H),R.clear(),Ee=0;return}if(Ee=P,L=w.clientX,Oe=w.clientY,R.size===1&&(me=w.clientX,A=w.clientY,de=w.clientY,we=o()||1),R.size===2){const H=Array.from(R.values());ge=t(S),at.pinchStartDist=Math.hypot(H[0].x-H[1].x,H[0].y-H[1].y)}}function at(w){if(t(s)){if((r()||t(S)>1)&&R.has(w.pointerId)&&w.preventDefault(),R.has(w.pointerId)&&R.set(w.pointerId,{x:w.clientX,y:w.clientY}),R.size===2){const P=Array.from(R.values()),Z=P[0],K=P[1],Q=Math.hypot(Z.x-K.x,Z.y-K.y),H=at.pinchStartDist||Q,Ye=Q/H;let Ne=Math.max(q,Math.min(G,ge*Ye));const Te={x:(Z.x+K.x)/2,y:(Z.y+K.y)/2},Xe=t(f).clientWidth,O=t(f).clientHeight,B=t(s).getBoundingClientRect(),Y=Te.x-(B.left+Xe/2)-t(z),j=Te.y-(B.top+O/2)-t(U),X=t(S),he=Ne;E(z,t(z)-(he/X-1)*Y),E(U,t(U)-(he/X-1)*j),E(S,Ne),E(ue,!0),clearTimeout(ne);return}if(R.size===1){if(R.values().next().value,t(S)>1||r()){const P=w.clientX-me,Z=w.clientY-A;E(z,t(z)+P),E(U,t(U)+Z),me=w.clientX,A=w.clientY,ze();return}else if(!i()){const P=de-w.clientY,K=Math.round(P*8),Q=Math.max(10,Math.min(1e4,Math.round(we+K)));et.set(Q),E(ue,!0),clearTimeout(ne)}}}}function ht(w){if(t(s)){try{t(s).releasePointerCapture(w.pointerId)}catch{}clearTimeout(ne),E(ue,!0),ne=setTimeout(()=>{E(ue,!1)},4e3),R.delete(w.pointerId),R.size===0&&(clearTimeout(ne),E(ue,!1))}}function pt(){clearTimeout(ne),E(ue,!0),ne=setTimeout(()=>{E(ue,!1)},4e3)}function gt(w){if(!t(s)||!w.ctrlKey&&!w.metaKey)return;w.preventDefault();const Z=1+(-w.deltaY>0?.1:-.1),K=Math.max(q,Math.min(G,t(S)*Z)),Q=t(s).getBoundingClientRect(),H=w.clientX-(Q.left+t(f).clientWidth/2)-t(z),Ye=w.clientY-(Q.top+t(f).clientHeight/2)-t(U);E(z,t(z)-(K/t(S)-1)*H),E(U,t(U)-(K/t(S)-1)*Ye),E(S,K),ze()}Hr(()=>{t(D)&&cancelAnimationFrame(t(D)),Fe&&Fe.disconnect(),ne&&clearTimeout(ne),t(s)&&(t(s).removeEventListener("pointerdown",vt),t(s).removeEventListener("pointermove",at),t(s).removeEventListener("pointerup",ht),t(s).removeEventListener("pointerleave",pt),t(s)&&t(s).removeEventListener("wheel",gt)),yn.set(null)});function it(w){const P=c()||h().active||r();if(!P||!t(Le)){E(ee,0),!P&&t(D)&&(cancelAnimationFrame(t(D)),E(D,null));return}t(ee)||E(ee,w);const Z=w-t(ee);if(E(ee,w),c()&&!r()){const K=o()||0;C+=K*(x()||1)*(Z/1e3)}ze(),E(D,requestAnimationFrame(it))}function ze(){if(!t(Le)||!n||!t(F)||!t(f))return;const w=t(f).clientWidth,P=t(f).clientHeight;n.clearRect(0,0,w,P),n.save();const Z=t(F).width/t(F).height,K=w/P;let Q,H;Z>K?(Q=w,H=w/Z):(H=P,Q=P*Z);const Ye=Q*t(S),Ne=H*t(S);let Te=0,Xe=0;if(p()){const O=Q/t(F).width;Te=(p().x-t(F).width/2)*O*t(S),Xe=(p().y-t(F).height/2)*O*t(S)}if(n.translate(w/2+t(z),P/2+t(U)),n.translate(Te,Xe),n.rotate(C*Math.PI/180),n.translate(-Te,-Xe),n.drawImage(t(F),-Ye/2,-Ne/2,Ye,Ne),l()&&p())try{const O=p(),B=Q*t(S)/t(F).width,Y=(O.x-t(F).width/2)*B,j=(O.y-t(F).height/2)*B,X=O.r*B;n.beginPath(),n.lineWidth=Math.max(2,2),n.strokeStyle="rgba(255,160,0,0.85)",n.arc(Y,j,X,0,Math.PI*2),n.stroke(),n.strokeStyle="rgba(255,160,0,0.85)",n.lineWidth=Math.max(2,2);const he=Math.max(15,X*.15);if(n.beginPath(),n.moveTo(Y-he,j),n.lineTo(Y+he,j),n.stroke(),n.beginPath(),n.moveTo(Y,j-he),n.lineTo(Y,j+he),n.stroke(),m()&&m().length){n.fillStyle="rgba(0,200,255,0.9)";for(const Ve of m()){const Ue=Ve.angle,nt=Y+Math.cos(Ue)*X,Be=j+Math.sin(Ue)*X;n.beginPath(),n.arc(nt,Be,Math.max(2,Math.round(X*.03)),0,Math.PI*2),n.fill()}}}catch(O){console.warn("overlay draw failed",O)}if(r()&&!g())try{let O;if(r()){const B=h().startTime||0;O=(B>0?Date.now()-B:Date.now())%2e3/2e3}else O=Math.min(1,(Date.now()-h().startTime)/2e3);if(n.fillStyle=r()?"rgba(0, 0, 0, 0.5)":"rgba(0, 0, 0, 0.3)",n.fillRect(-Q/2-100,-H/2-100,Q+200,H+200),p()){const B=p(),Y=Q*t(S)/t(F).width,j=(B.x-t(F).width/2)*Y,X=(B.y-t(F).height/2)*Y,he=B.r*Y;n.strokeStyle=`rgba(100, 200, 255, ${.8*(1-O)})`,n.lineWidth=2;for(let Be=0;Be<3;Be++){const mt=he*(.3+O*1.2+Be*.3);n.beginPath(),n.arc(j,X,mt,0,Math.PI*2),n.stroke()}n.strokeStyle="rgba(100, 200, 255, 0.9)",n.lineWidth=3;const Ve=O*Math.PI*6,Ue=he*1.8;n.beginPath(),n.moveTo(j,X),n.lineTo(j+Math.cos(Ve)*Ue,X+Math.sin(Ve)*Ue),n.stroke();const nt=4+Math.sin(O*Math.PI*4)*2;n.fillStyle=`rgba(100, 200, 255, ${.9*Math.sin(O*Math.PI)})`,n.beginPath(),n.arc(j,X,nt,0,Math.PI*2),n.fill(),n.fillStyle=`rgba(100, 200, 255, ${Math.sin(O*Math.PI)})`,n.font="bold 14px sans-serif",n.textAlign="center",n.fillText("SCANNING...",j,X-he-20)}else{const B=Math.max(Q,H)/2;n.strokeStyle=`rgba(100, 200, 255, ${.6})`,n.lineWidth=2;for(let j=0;j<4;j++){const X=B*(O+j*.25)%1,he=1-X;n.strokeStyle=`rgba(100, 200, 255, ${he*.6})`,n.beginPath(),n.arc(0,0,X*B,0,Math.PI*2),n.stroke()}n.strokeStyle="rgba(100, 200, 255, 0.8)",n.lineWidth=3;const Y=O*Math.PI*4;n.beginPath(),n.moveTo(0,0),n.lineTo(Math.cos(Y)*B,Math.sin(Y)*B),n.stroke(),n.fillStyle=`rgba(100, 200, 255, ${.8+.2*Math.sin(O*Math.PI*4)})`,n.font="bold 18px sans-serif",n.textAlign="center",r()?(n.fillText("‚öôÔ∏è EDIT MODE - ADJUST POSITION & ZOOM",0,-60),n.font="bold 16px sans-serif",n.fillStyle="rgba(255, 200, 100, 0.95)",n.fillText("üéØ Align crosshair with rotation center",0,-20),n.font="14px sans-serif",n.fillStyle="rgba(200, 255, 200, 0.9)",n.fillText("üëÜ Drag to move  ‚Ä¢  üîç Scroll/Pinch to zoom",0,20),n.font="bold 14px sans-serif",n.fillStyle="rgba(100, 255, 100, 0.9)",n.fillText('Click "Confirm Detection" when ready',0,60)):(n.fillText("ANALYZING IMAGE...",0,-20),n.font="12px sans-serif",n.fillText(`${Math.round(O*100)}%`,0,10))}}catch(O){console.warn("radar animation failed",O)}if(y()&&c()){const O=1e3/M(),B=t(ee)%O/O,Y=Math.max(0,Math.min(1,(M()-40)/30));let j;if(Y<.33?j=B>.5?.85:0:Y<.67?j=Math.sin(B*Math.PI*2)*.5+.5>.6?.6:0:j=(Math.sin(B*Math.PI*2)*.5+.5)*.3,j>.05){const X=n.createRadialGradient(w/2,P/2,0,w/2,P/2,Math.max(w,P)*.8);X.addColorStop(0,`rgba(0, 0, 0, ${j*.7})`),X.addColorStop(.5,`rgba(0, 0, 0, ${j})`),X.addColorStop(1,`rgba(0, 0, 0, ${j*.9})`),n.fillStyle=X,n.fillRect(-w,-P,w*3,P*3),Y<.5&&(n.fillStyle=`rgba(20, 20, 40, ${j*.15})`,n.fillRect(-w,-P,w*3,P*3))}}if(n.restore(),r()||g()){const O=Date.now()%1e3/1e3,B=.7+.3*Math.sin(O*Math.PI*2);n.save(),n.translate(w/2,P/2),n.strokeStyle=`rgba(255, 100, 0, ${B})`,n.lineWidth=4;const Y=Math.min(w,P)*.1;n.beginPath(),n.arc(0,0,Y*.7,0,Math.PI*2),n.stroke(),n.lineWidth=3,n.beginPath(),n.moveTo(-Y,0),n.lineTo(Y,0),n.stroke(),n.beginPath(),n.moveTo(0,-Y),n.lineTo(0,Y),n.stroke(),n.beginPath(),n.arc(0,0,10+3*Math.sin(O*Math.PI*2),0,Math.PI*2),n.fillStyle=`rgba(255, 100, 0, ${B})`,n.fill(),n.strokeStyle="rgba(255, 255, 255, 0.9)",n.lineWidth=2,n.stroke(),n.beginPath(),n.arc(0,0,3,0,Math.PI*2),n.fillStyle="rgba(255, 255, 255, 0.95)",n.fill(),n.restore()}}Ae(()=>r(),()=>{r()&&(E(z,0),E(U,0),E(S,1),ze())}),Ae(()=>(t(z),t(U),t(S)),()=>{_n.set({translateX:t(z),translateY:t(U),scale:t(S)})}),Ae(()=>(c(),Pt),()=>{c()&&Pt.set(!1)}),Ae(()=>(v(),t(F)),()=>{v()?It(v()):(t(F)&&E(F,null),E(Le,!1),ze())}),Ae(()=>(c(),h(),r(),t(D)),()=>{c()||h().active||r()?t(D)||E(D,requestAnimationFrame(it)):t(D)&&(cancelAnimationFrame(t(D)),E(D,null),E(ee,0))}),kn(),Ut();var tt=hs(),ot=I(tt);On(ot,w=>E(f,w),()=>t(f));var We=k(ot,2);{var $t=w=>{var P=us(),Z=I(P);$(P),Pe(K=>$e(Z,`Speed: ${K??""}¬∞/s`),[()=>(o(),De(()=>o().toFixed(0)))]),T(w,P)};se(We,w=>{t(ue)&&w($t)})}var jt=k(We,2);{var Ct=w=>{var P=vs();T(w,P)};se(jt,w=>{r()&&w(Ct)})}$(tt),On(tt,w=>E(s,w),()=>t(s)),Pe(()=>Wt(tt,1,`canvas-wrapper ${r()?"edit-mode":""}`,"svelte-byh4af")),T(e,tt),Tt(),u()}async function gs(e,a,r={}){const{x:c,y:v,r:i}=a||{x:e.width/2,y:e.height/2,r:Math.min(e.width,e.height)/2},o=r.samples||720,h=r.innerOffset||-Math.max(2,Math.round(i*.06)),x=r.outerOffset||Math.max(2,Math.round(i*.06)),p=r.thresholdFactor||.6,l=document.createElement("canvas");l.width=e.width,l.height=e.height;const m=l.getContext("2d");m.drawImage(e,0,0);const g=m.getImageData(0,0,l.width,l.height).data,y=l.width,M=l.height;function _(A,D){const ee=Math.round(A),de=Math.round(D);if(ee<0||ee>=y||de<0||de>=M)return 0;const we=(de*y+ee)*4,ue=g[we],ne=g[we+1],Ee=g[we+2];return .2126*ue+.7152*ne+.0722*Ee}const u=new Array(o);for(let A=0;A<o;A++){const D=A/o*Math.PI*2,ee=[],de=3;for(let ue=0;ue<de;ue++){const ne=ue/(de-1),Ee=i+h+(x-h)*ne,L=c+Ee*Math.cos(D),Oe=v+Ee*Math.sin(D);ee.push(_(L,Oe))}const we=ee.reduce((ue,ne)=>ue+ne,0)/ee.length;u[A]=we}const s=u.reduce((A,D)=>A+D,0)/u.length,f=Math.sqrt(u.reduce((A,D)=>A+(D-s)**2,0)/u.length),n=s+f*p,C=u.map(A=>A>n);let S=0,q=!1,G=[],z=0;for(let A=0;A<C.length*2;A++){const D=A%C.length;if(C[D]?(z++,q=!0):(q&&(G.push(z),z=0),q=!1),A>=C.length&&!q)break}q&&z>0&&G.push(z);const U=Math.max(2,Math.round(o/360*(r.minDegrees||5))),R=G.filter(A=>A>=U);S=R.length;const ge=[];let me=0;for(const A of G){const D=me%o,ee=(me+A-1)%o,de=(D+Math.floor(A/2))%o;ge.push({start:D,end:ee,mid:de,angle:de/o*2*Math.PI}),me+=A+1}return{count:S,samples:u,mask:C,groups:R,positions:ge,canvas:l}}function ms(e,a=24,r={}){const c=[],{width:v,height:i}=e,o=r.circle||{x:v/2,y:i/2,r:Math.min(v,i)/2},h=r.margin??1.05,x=Math.round(o.r*h),p=x*2,l=r.outputSize||Math.max(32,Math.round(p)),m=r.fps||24,g=typeof r.rotationSpeed=="number"?r.rotationSpeed:0,y=r.direction==null?1:r.direction,M=document.createElement("canvas");M.width=p,M.height=p;const _=M.getContext("2d"),u=Math.round(o.x-x),s=Math.round(o.y-x);try{_.drawImage(e,u,s,p,p,0,0,p,p)}catch{_.drawImage(e,0,0)}const n=g/m*Math.PI/180*y;Math.round(p*(r.zoom||1));for(let C=0;C<a;C++){const S=C*n,q=document.createElement("canvas");q.width=l,q.height=l;const G=q.getContext("2d");G.translate(l/2,l/2),G.rotate(S);const z=Math.round(p*(r.zoom||1)),U=z;G.drawImage(M,-z/2,-U/2,z,U),c.push(q)}return c}function ws(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ot(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var hn={exports:{}},qn;function _s(){return qn||(qn=1,(function(e,a){(function(r){e.exports=r()})(function(){return(function r(c,v,i){function o(p,l){if(!v[p]){if(!c[p]){var m=typeof Ot=="function"&&Ot;if(!l&&m)return m(p,!0);if(h)return h(p,!0);var g=new Error("Cannot find module '"+p+"'");throw g.code="MODULE_NOT_FOUND",g}var y=v[p]={exports:{}};c[p][0].call(y.exports,function(M){var _=c[p][1][M];return o(_||M)},y,y.exports,r,c,v,i)}return v[p].exports}for(var h=typeof Ot=="function"&&Ot,x=0;x<i.length;x++)o(i[x]);return o})({1:[function(r,c,v){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}c.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(l){if(!h(l)||l<0||isNaN(l))throw TypeError("n must be a positive number");return this._maxListeners=l,this},i.prototype.emit=function(l){var m,g,y,M,_,u;if(this._events||(this._events={}),l==="error"&&(!this._events.error||x(this._events.error)&&!this._events.error.length)){if(m=arguments[1],m instanceof Error)throw m;var s=new Error('Uncaught, unspecified "error" event. ('+m+")");throw s.context=m,s}if(g=this._events[l],p(g))return!1;if(o(g))switch(arguments.length){case 1:g.call(this);break;case 2:g.call(this,arguments[1]);break;case 3:g.call(this,arguments[1],arguments[2]);break;default:M=Array.prototype.slice.call(arguments,1),g.apply(this,M)}else if(x(g))for(M=Array.prototype.slice.call(arguments,1),u=g.slice(),y=u.length,_=0;_<y;_++)u[_].apply(this,M);return!0},i.prototype.addListener=function(l,m){var g;if(!o(m))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",l,o(m.listener)?m.listener:m),this._events[l]?x(this._events[l])?this._events[l].push(m):this._events[l]=[this._events[l],m]:this._events[l]=m,x(this._events[l])&&!this._events[l].warned&&(p(this._maxListeners)?g=i.defaultMaxListeners:g=this._maxListeners,g&&g>0&&this._events[l].length>g&&(this._events[l].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[l].length),typeof console.trace=="function"&&console.trace())),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(l,m){if(!o(m))throw TypeError("listener must be a function");var g=!1;function y(){this.removeListener(l,y),g||(g=!0,m.apply(this,arguments))}return y.listener=m,this.on(l,y),this},i.prototype.removeListener=function(l,m){var g,y,M,_;if(!o(m))throw TypeError("listener must be a function");if(!this._events||!this._events[l])return this;if(g=this._events[l],M=g.length,y=-1,g===m||o(g.listener)&&g.listener===m)delete this._events[l],this._events.removeListener&&this.emit("removeListener",l,m);else if(x(g)){for(_=M;_-- >0;)if(g[_]===m||g[_].listener&&g[_].listener===m){y=_;break}if(y<0)return this;g.length===1?(g.length=0,delete this._events[l]):g.splice(y,1),this._events.removeListener&&this.emit("removeListener",l,m)}return this},i.prototype.removeAllListeners=function(l){var m,g;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[l]&&delete this._events[l],this;if(arguments.length===0){for(m in this._events)m!=="removeListener"&&this.removeAllListeners(m);return this.removeAllListeners("removeListener"),this._events={},this}if(g=this._events[l],o(g))this.removeListener(l,g);else if(g)for(;g.length;)this.removeListener(l,g[g.length-1]);return delete this._events[l],this},i.prototype.listeners=function(l){var m;return!this._events||!this._events[l]?m=[]:o(this._events[l])?m=[this._events[l]]:m=this._events[l].slice(),m},i.prototype.listenerCount=function(l){if(this._events){var m=this._events[l];if(o(m))return 1;if(m)return m.length}return 0},i.listenerCount=function(l,m){return l.listenerCount(m)};function o(l){return typeof l=="function"}function h(l){return typeof l=="number"}function x(l){return typeof l=="object"&&l!==null}function p(l){return l===void 0}},{}],2:[function(r,c,v){var i,o,h,x,p;p=navigator.userAgent.toLowerCase(),x=navigator.platform.toLowerCase(),i=p.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0],h=i[1]==="ie"&&document.documentMode,o={name:i[1]==="version"?i[3]:i[1],version:h||parseFloat(i[1]==="opera"&&i[4]?i[4]:i[2]),platform:{name:p.match(/ip(?:ad|od|hone)/)?"ios":(p.match(/(?:webos|android)/)||x.match(/mac|win|linux/)||["other"])[0]}},o[o.name]=!0,o[o.name+parseInt(o.version,10)]=!0,o.platform[o.platform.name]=!0,c.exports=o},{}],3:[function(r,c,v){var i,o,h,x=function(g,y){for(var M in y)p.call(y,M)&&(g[M]=y[M]);function _(){this.constructor=g}return _.prototype=y.prototype,g.prototype=new _,g.__super__=y.prototype,g},p={}.hasOwnProperty,l=[].indexOf||function(g){for(var y=0,M=this.length;y<M;y++)if(y in this&&this[y]===g)return y;return-1},m=[].slice;i=r("events").EventEmitter,h=r("./browser.coffee"),o=(function(g){var y,M;x(_,g),y={workerScript:"gif.worker.js",workers:2,repeat:0,background:"#fff",quality:10,width:null,height:null,transparent:null,debug:!1,dither:!1},M={delay:500,copy:!1};function _(u){var s,f,n;this.running=!1,this.options={},this.frames=[],this.freeWorkers=[],this.activeWorkers=[],this.setOptions(u);for(f in y)n=y[f],(s=this.options)[f]==null&&(s[f]=n)}return _.prototype.setOption=function(u,s){if(this.options[u]=s,this._canvas!=null&&(u==="width"||u==="height"))return this._canvas[u]=s},_.prototype.setOptions=function(u){var s,f,n;f=[];for(s in u)p.call(u,s)&&(n=u[s],f.push(this.setOption(s,n)));return f},_.prototype.addFrame=function(u,s){var f,n;s==null&&(s={}),f={},f.transparent=this.options.transparent;for(n in M)f[n]=s[n]||M[n];if(this.options.width==null&&this.setOption("width",u.width),this.options.height==null&&this.setOption("height",u.height),typeof ImageData<"u"&&ImageData!==null&&u instanceof ImageData)f.data=u.data;else if(typeof CanvasRenderingContext2D<"u"&&CanvasRenderingContext2D!==null&&u instanceof CanvasRenderingContext2D||typeof WebGLRenderingContext<"u"&&WebGLRenderingContext!==null&&u instanceof WebGLRenderingContext)s.copy?f.data=this.getContextData(u):f.context=u;else if(u.childNodes!=null)s.copy?f.data=this.getImageData(u):f.image=u;else throw new Error("Invalid image");return this.frames.push(f)},_.prototype.render=function(){var u,s,f;if(this.running)throw new Error("Already running");if(this.options.width==null||this.options.height==null)throw new Error("Width and height must be set prior to rendering");if(this.running=!0,this.nextFrame=0,this.finishedFrames=0,this.imageParts=(function(){var n,C,S;for(S=[],n=0,C=this.frames.length;0<=C?n<C:n>C;0<=C?++n:--n)S.push(null);return S}).call(this),s=this.spawnWorkers(),this.options.globalPalette===!0)this.renderNextFrame();else for(u=0,f=s;0<=f?u<f:u>f;0<=f?++u:--u)this.renderNextFrame();return this.emit("start"),this.emit("progress",0)},_.prototype.abort=function(){for(var u;u=this.activeWorkers.shift(),u!=null;)this.log("killing active worker"),u.terminate();return this.running=!1,this.emit("abort")},_.prototype.spawnWorkers=function(){var u,s,f;return u=Math.min(this.options.workers,this.frames.length),(function(){f=[];for(var n=s=this.freeWorkers.length;s<=u?n<u:n>u;s<=u?n++:n--)f.push(n);return f}).apply(this).forEach((function(n){return function(C){var S;return n.log("spawning worker "+C),S=new Worker(n.options.workerScript),S.onmessage=function(q){return n.activeWorkers.splice(n.activeWorkers.indexOf(S),1),n.freeWorkers.push(S),n.frameFinished(q.data)},n.freeWorkers.push(S)}})(this)),u},_.prototype.frameFinished=function(u){var s,f;if(this.log("frame "+u.index+" finished - "+this.activeWorkers.length+" active"),this.finishedFrames++,this.emit("progress",this.finishedFrames/this.frames.length),this.imageParts[u.index]=u,this.options.globalPalette===!0&&(this.options.globalPalette=u.globalPalette,this.log("global palette analyzed"),this.frames.length>2))for(s=1,f=this.freeWorkers.length;1<=f?s<f:s>f;1<=f?++s:--s)this.renderNextFrame();return l.call(this.imageParts,null)>=0?this.renderNextFrame():this.finishRendering()},_.prototype.finishRendering=function(){var u,s,f,n,C,S,q,G,z,U,R,ge,me,A,D,ee;for(G=0,A=this.imageParts,C=0,z=A.length;C<z;C++)s=A[C],G+=(s.data.length-1)*s.pageSize+s.cursor;for(G+=s.pageSize-s.cursor,this.log("rendering finished - filesize "+Math.round(G/1e3)+"kb"),u=new Uint8Array(G),ge=0,D=this.imageParts,S=0,U=D.length;S<U;S++)for(s=D[S],ee=s.data,f=q=0,R=ee.length;q<R;f=++q)me=ee[f],u.set(me,ge),f===s.data.length-1?ge+=s.cursor:ge+=s.pageSize;return n=new Blob([u],{type:"image/gif"}),this.emit("finished",n,u)},_.prototype.renderNextFrame=function(){var u,s,f;if(this.freeWorkers.length===0)throw new Error("No free workers");if(!(this.nextFrame>=this.frames.length))return u=this.frames[this.nextFrame++],f=this.freeWorkers.shift(),s=this.getTask(u),this.log("starting frame "+(s.index+1)+" of "+this.frames.length),this.activeWorkers.push(f),f.postMessage(s)},_.prototype.getContextData=function(u){return u.getImageData(0,0,this.options.width,this.options.height).data},_.prototype.getImageData=function(u){var s;return this._canvas==null&&(this._canvas=document.createElement("canvas"),this._canvas.width=this.options.width,this._canvas.height=this.options.height),s=this._canvas.getContext("2d"),s.setFill=this.options.background,s.fillRect(0,0,this.options.width,this.options.height),s.drawImage(u,0,0),this.getContextData(s)},_.prototype.getTask=function(u){var s,f;if(s=this.frames.indexOf(u),f={index:s,last:s===this.frames.length-1,delay:u.delay,transparent:u.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:h.name==="chrome"},u.data!=null)f.data=u.data;else if(u.context!=null)f.data=this.getContextData(u.context);else if(u.image!=null)f.data=this.getImageData(u.image);else throw new Error("Invalid frame");return f},_.prototype.log=function(){var u;if(u=1<=arguments.length?m.call(arguments,0):[],!!this.options.debug)return console.log.apply(console,u)},_})(i),c.exports=o},{"./browser.coffee":2,events:1}]},{},[3])(3)})})(hn)),hn.exports}var ys=_s();const bs=ws(ys),xs=""+new URL("../assets/gif.worker.CjkyQP34.js",import.meta.url).href;async function Ms(e,a=24){if(!e||e.length===0)throw new Error("No frames to export");const r=new bs({workers:2,quality:10,width:e[0].width,height:e[0].height,workerScript:xs,repeat:0,background:null}),c=Math.round(1e3/a);for(const v of e){const i=v.width,o=v.height,h=document.createElement("canvas");h.width=i,h.height=o;const x=h.getContext("2d");x.fillStyle="#ffffff",x.fillRect(0,0,i,o),x.drawImage(v,0,0),r.addFrame(h,{delay:c,copy:!0})}return new Promise((v,i)=>{r.on("finished",function(o){const h=URL.createObjectURL(o);v(h)}),r.on("error",i),r.render()})}var ks=fe('<div class="export-overlay svelte-14nyow8" role="status" aria-live="polite"><div class="export-box svelte-14nyow8"><div class="spinner svelte-14nyow8" aria-hidden="true"></div> <div class="export-text svelte-14nyow8">Working‚Ä¶ Exporting GIF ‚Äî please wait</div></div></div>'),Ss=fe('<button class="confirm-btn svelte-14nyow8">Confirm Detection</button> <button class="svelte-14nyow8">Cancel</button>',1),Ps=fe("<button>Detect Circle & Count</button>"),Es=fe('<span style="background: #4a9eff; color: white; padding: 2px 8px; border-radius: 10px; font-size: 0.75em; font-weight: bold; margin-left: 4px;" class="svelte-14nyow8"> </span>'),Ts=fe('<div style="margin-top: 16px; padding: 12px; background: rgba(74, 158, 255, 0.08); border-radius: 6px; border: 1px solid rgba(74, 158, 255, 0.2);" class="svelte-14nyow8"><div style="font-weight: 600; margin-bottom: 10px; color: #4a9eff; font-size: 0.95em;" class="svelte-14nyow8">‚ö° Flicker Fusion Threshold</div> <div style="margin-bottom: 12px;" class="svelte-14nyow8"><div style="font-size: 0.85em; color: #aaa; margin-bottom: 6px;" class="svelte-14nyow8">Quick Presets:</div> <div style="display: flex; gap: 6px; flex-wrap: wrap;" class="svelte-14nyow8"><button class="svelte-14nyow8">42 Hz</button> <button class="svelte-14nyow8">50 Hz</button> <button class="svelte-14nyow8">55 Hz</button> <button class="svelte-14nyow8">60 Hz</button> <button class="svelte-14nyow8">70 Hz</button></div></div> <div style="margin-top: 12px;" class="svelte-14nyow8"><div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 6px;" class="svelte-14nyow8"><span style="font-size: 0.85em; color: #ccc;" class="svelte-14nyow8">Fine Tune:</span> <span style="font-size: 1.1em; font-weight: bold; color: #4a9eff;" class="svelte-14nyow8"> </span></div> <input type="range" min="40" max="70" step="0.5" style="width: 100%; cursor: pointer;" class="svelte-14nyow8"/> <div style="display: flex; justify-content: space-between; font-size: 0.7em; color: #666; margin-top: 4px;" class="svelte-14nyow8"><span class="svelte-14nyow8">40 Hz</span> <span style="color: #4a9eff; font-weight: 500;" class="svelte-14nyow8"><!></span> <span class="svelte-14nyow8">70 Hz</span></div></div> <div style="margin-top: 10px; padding: 8px; background: rgba(74, 158, 255, 0.12); border-radius: 4px; font-size: 0.8em;" class="svelte-14nyow8"><div style="font-weight: 500; color: #4a9eff; margin-bottom: 3px;" class="svelte-14nyow8"><!></div> <div style="color: #aaa; font-size: 0.9em;" class="svelte-14nyow8"><!></div></div></div>'),Is=fe('<div class="drag-handle svelte-14nyow8" title="Drag to move"></div>'),$s=fe('<div><!> <div style="display:flex;gap:12px;align-items:center;" class="svelte-14nyow8"><button class="speed-btn svelte-14nyow8">‚àí</button> <div style="text-align:center;min-width:120px;" class="svelte-14nyow8"><div class="speed-display svelte-14nyow8"> </div> <div style="font-size:11px;opacity:0.6;margin-top:4px;" class="svelte-14nyow8">Rotation Speed</div></div> <button class="speed-btn svelte-14nyow8">+</button></div></div>'),Cs=fe('<em style="font-size:12px;opacity:0.7;" class="svelte-14nyow8">(Use +/‚àí buttons above to adjust speed)</em>'),Ds=fe('<em style="font-size:12px;opacity:0.7;" class="svelte-14nyow8">(Touch: drag up to speed up, down to slow down)</em>'),As=fe('<div class="svelte-14nyow8"><strong class="svelte-14nyow8">Circle:</strong> </div>'),Ls=fe('<div class="panel svelte-14nyow8"><!> <div style="display:flex;gap:8px;align-items:center;flex-wrap:wrap;" class="svelte-14nyow8"><button> </button> <button class="svelte-14nyow8">Reverse</button> <!> <button class="svelte-14nyow8">Apply Suggested Speed</button> <div class="gif-export-group svelte-14nyow8"><button class="svelte-14nyow8"> </button> <label style="display:flex;align-items:center;gap:6px;" class="svelte-14nyow8"><span style="font-size:12px;opacity:0.8;" class="svelte-14nyow8">Frames:</span> <input type="number" min="6" step="1" style="width:80px;padding:4px;border-radius:4px;border:1px solid #ccc;" class="svelte-14nyow8"/> <span style="font-size:11px;opacity:0.6;" title="Leave empty for auto-detection" class="svelte-14nyow8"><!></span></label> <label style="display:flex;align-items:center;gap:6px;" class="svelte-14nyow8"><span style="font-size:12px;opacity:0.8;" class="svelte-14nyow8">FPS:</span> <select style="padding:4px;border-radius:4px;border:1px solid #ccc;background:#333;color:white;" class="svelte-14nyow8"><option class="svelte-14nyow8">10 (Slow/Classic)</option><option class="svelte-14nyow8">15 (Natural)</option><option class="svelte-14nyow8">20 (Smooth)</option><option class="svelte-14nyow8">24 (Cinema)</option><option class="svelte-14nyow8">30 (Fast)</option></select></label></div> <label style="display:flex;align-items:center;gap:6px;margin-left:6px;" class="svelte-14nyow8"><input type="checkbox" class="svelte-14nyow8"/> <span class="svelte-14nyow8">Show Overlay</span></label> <label style="display:flex;align-items:center;gap:6px;margin-left:6px;" class="svelte-14nyow8"><input type="checkbox" class="svelte-14nyow8"/> <span class="svelte-14nyow8">Flicker Effect</span> <!></label></div> <!> <!> <div style="margin-top:12px;" class="svelte-14nyow8"><div style="display:flex;gap:12px;align-items:center;flex-wrap:wrap;" class="svelte-14nyow8"><div class="svelte-14nyow8"><strong class="svelte-14nyow8">Current Speed:</strong> <!></div> <div style="display:flex;gap:6px;align-items:center;" class="svelte-14nyow8"><label for="manual-speed-input" style="font-size:12px;" class="svelte-14nyow8">Type speed:</label> <input id="manual-speed-input" type="number" min="1" step="1" style="width:100px;padding:6px;border-radius:4px;border:1px solid #ccc;" class="svelte-14nyow8"/> <button class="svelte-14nyow8">Set</button></div></div> <div class="svelte-14nyow8"><strong class="svelte-14nyow8">Detected count:</strong> </div> <div class="svelte-14nyow8"><strong class="svelte-14nyow8">Suggested speed:</strong> </div> <!></div></div>');function Fs(e,a){Et(a,!1);const r=()=>J(dt,"$imageUrl",_),c=()=>J(_n,"$canvasTransform",_),v=()=>J(st,"$isPlaying",_),i=()=>J(yn,"$playerCanvas",_),o=()=>J(et,"$rotationSpeed",_),h=()=>J(mn,"$detectedCircle",_),x=()=>J(Gn,"$detectedCount",_),p=()=>J(vn,"$suggestedRotationSpeed",_),l=()=>J(wn,"$overlayVisible",_),m=()=>J(ft,"$editMode",_),g=()=>J(bn,"$flickerEnabled",_),y=()=>J(Qe,"$flickerFrequency",_),M=()=>J(xn,"$isMobile",_),[_,u]=Pn(),s=te(),f=te(),n=te(),C=te();let S=te(!1);async function q(){st.update(d=>!d)}function G(){et.update(d=>Math.min(1e4,d+60))}function z(){et.update(d=>Math.max(10,d-60))}function U(){gn.update(d=>d*-1)}async function R(){if(!r())return;const b=Date.now();kt.set({active:!0,progress:0,startTime:b}),ft.set(!0)}async function ge(){const d=r();if(!d)return;E(S,!0);const b=c();ft.set(!1);const N=Date.now();kt.set({active:!0,progress:0,startTime:N}),v()||requestAnimationFrame(()=>{});try{const W=await gt(d);let V=null;const re=i();if(re){const ye=re.clientWidth,Ke=re.clientHeight,lt=W.width/W.height,Dt=ye/Ke;let wt,At;lt>Dt?(wt=ye,At=ye/lt):(At=Ke,wt=Ke*lt);const Jt=-b.translateX,Lt=-b.translateY,_t=Jt/b.scale,Zt=Lt/b.scale,Ft=W.width/wt,Kt=_t*Ft+W.width/2,zt=Zt*Ft+W.height/2;V={x:Kt,y:zt,r:Math.min(W.width,W.height)/2*.9}}V||(V={x:W.width/2,y:W.height/2,r:Math.min(W.width,W.height)/2*.9});const oe=await gs(W,V,{samples:720}),je=2e3-(Date.now()-N);je>0&&await new Promise(ye=>setTimeout(ye,je)),mn.set(V),Gn.set(oe.count),Qn.set(oe.positions||[]);const Ze=(oe.count>0?360/oe.count:1)*30;vn.set(Ze),kt.set({active:!1,progress:1,startTime:N}),Pt.set(!0),st.set(!1)}finally{E(S,!1)}}function me(){vn.subscribe(d=>{d&&et.set(d)})()}function A(){ft.set(!1),Pt.set(!1),kt.set({active:!1,progress:0,startTime:0})}let D=te(0);function ee(){const d=Number(t(D))||0;d<=0||et.set(d)}let de=te(!1),we=te(15);async function ue(){const d=r()||cn(dt);if(!d)return alert("No image loaded to export.");if(!t(s))return alert("Please detect the circle before exporting the GIF.");const b=await gt(d),N=document.createElement("canvas");N.width=b.width,N.height=b.height,N.getContext("2d").drawImage(b,0,0,b.width,b.height),E(de,!0);try{let V;t(ne)&&t(ne)!==t(f)*2?V=t(ne):t(f)&&t(f)>0?V=Math.max(12,t(f)*2):V=t(ne)||24;const re=t(s),oe=Math.min(480,Math.round(re.r*2*1.1)),Ie=Number(cn(et)||0),je=Number(cn(gn)||1),Je=360/V,Se=ms(N,V,{circle:re,outputSize:oe,margin:1.1,zoom:1,fps:t(we),rotationSpeed:Je*t(we),direction:je}),Ze=await Ms(Se,t(we)),ye=document.createElement("a");ye.href=Ze,ye.download="phenaki-export.gif",document.body.appendChild(ye),ye.click(),ye.remove()}catch(V){console.error("GIF export failed",V),alert("GIF export failed: "+(V&&V.message))}finally{E(de,!1)}}let ne=te(null);const Ee="phenaki.speedControlPos";let L=te({left:null,top:null}),Oe=te(!1),F=te(!1),Le={x:0,y:0},Fe={left:0,top:0},It=0;function ut(){try{const d=localStorage.getItem(Ee);d&&E(L,JSON.parse(d))}catch{}}function vt(){try{localStorage.setItem(Ee,JSON.stringify(t(L)))}catch{}}function at(d){const b=Date.now(),N=b-It<300;if(It=b,d.target&&d.target.closest&&d.target.closest("button"))return;const W=d.target&&d.target.closest&&d.target.closest(".drag-handle");if(!(!N&&!W)){E(Oe,!0),E(F,!0),Le={x:d.clientX,y:d.clientY},Fe={left:t(L).left??Math.round((window.innerWidth-200)/2),top:t(L).top??Math.round((window.innerHeight-80)/2)};try{d.target.setPointerCapture(d.pointerId)}catch{}window.addEventListener("pointermove",ht),window.addEventListener("pointerup",pt)}}function ht(d){if(!t(F))return;const b=d.clientX-Le.x,N=d.clientY-Le.y;ae(L,t(L).left=Math.round(Fe.left+b)),ae(L,t(L).top=Math.round(Fe.top+N))}function pt(d){E(F,!1),E(Oe,!1);try{d.target.releasePointerCapture&&d.target.releasePointerCapture(d.pointerId)}catch{}window.removeEventListener("pointermove",ht),window.removeEventListener("pointerup",pt),vt()}Sn(()=>{ut(),t(L).left==null&&ae(L,t(L).left=Math.round((window.innerWidth-200)/2)),t(L).top==null&&ae(L,t(L).top=Math.round((window.innerHeight-80)/2));function d(){const oe=Math.max(8,window.innerWidth-200-8),Ie=Math.max(8,window.innerHeight-80-8);t(L).left==null&&ae(L,t(L).left=oe),t(L).top==null&&ae(L,t(L).top=Ie),ae(L,t(L).left=Math.min(Math.max(t(L).left,8),oe)),ae(L,t(L).top=Math.min(Math.max(t(L).top,8),Ie))}d();const b=()=>{d(),vt()};return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)});function gt(d){return new Promise((b,N)=>{const W=new Image;W.crossOrigin="anonymous",W.onload=()=>b(W),W.onerror=N,W.src=d})}Ae(()=>o(),()=>{E(D,Number(o()||0))}),Ae(()=>h(),()=>{E(s,h())}),Ae(()=>x(),()=>{E(f,x())}),Ae(()=>p(),()=>{E(n,p())}),Ae(()=>l(),()=>{E(C,l())}),kn(),Ut();var it=Ls(),ze=I(it);{var tt=d=>{var b=ks();T(d,b)};se(ze,d=>{t(de)&&d(tt)})}var ot=k(ze,2),We=I(ot);let $t;var jt=I(We,!0);$(We);var Ct=k(We,2),w=k(Ct,2);{var P=d=>{var b=Ss(),N=Re(b),W=k(N,2);Pe(()=>N.disabled=t(S)),ce("click",N,ge),ce("click",W,A),T(d,b)},Z=d=>{var b=Ps();Pe(()=>{Wt(b,1,Wn(t(s)?"":"detect-btn-required"),"svelte-14nyow8"),b.disabled=t(S)||!r()}),ce("click",b,R),T(d,b)};se(w,d=>{m()?d(P):d(Z,!1)})}var K=k(w,2),Q=k(K,2),H=I(Q),Ye=I(H,!0);$(H);var Ne=k(H,2),Te=k(I(Ne),2);Mt(Te);var Xe=k(Te,2),O=I(Xe);{var B=d=>{var b=pe("Manual");T(d,b)},Y=d=>{var b=qe(),N=Re(b);{var W=re=>{var oe=pe("Auto (x2)");T(re,oe)},V=re=>{var oe=pe("Auto");T(re,oe)};se(N,re=>{t(f)?re(W):re(V,!1)},!0)}T(d,b)};se(O,d=>{t(ne)?d(B):d(Y,!1)})}$(Xe),$(Ne);var j=k(Ne,2),X=k(I(j),2);Pe(()=>{t(we),qr(()=>{})});var he=I(X);he.value=he.__value=10;var Ve=k(he);Ve.value=Ve.__value=15;var Ue=k(Ve);Ue.value=Ue.__value=20;var nt=k(Ue);nt.value=nt.__value=24;var Be=k(nt);Be.value=Be.__value=30,$(X),$(j),$(Q);var mt=k(Q,2),Gt=I(mt);Mt(Gt),ln(2),$(mt);var In=k(mt,2),qt=I(In);Mt(qt);var er=k(qt,4);{var tr=d=>{var b=Es(),N=I(b);$(b),Pe(()=>$e(N,`${y()??""} Hz`)),T(d,b)};se(er,d=>{g()&&d(tr)})}$(In),$(ot);var $n=k(ot,2);{var nr=d=>{var b=Ts(),N=k(I(b),2),W=k(I(N),2),V=I(W),re=k(V,2),oe=k(re,2),Ie=k(oe,2),je=k(Ie,2);$(W),$(N);var Je=k(N,2),Se=I(Je),Ze=k(I(Se),2),ye=I(Ze);$(Ze),$(Se);var Ke=k(Se,2);Mt(Ke);var lt=k(Ke,2),Dt=k(I(lt),2),wt=I(Dt);{var At=ie=>{var _e=pe("üî¥ Visible");T(ie,_e)},Jt=ie=>{var _e=qe(),yt=Re(_e);{var bt=le=>{var be=pe("üü° Fusion");T(le,be)},xt=le=>{var be=pe("üü¢ Smooth");T(le,be)};se(yt,le=>{y()<58?le(bt):le(xt,!1)},!0)}T(ie,_e)};se(wt,ie=>{y()<48?ie(At):ie(Jt,!1)})}$(Dt),ln(2),$(lt),$(Je);var Lt=k(Je,2),_t=I(Lt),Zt=I(_t);{var Ft=ie=>{var _e=pe("‚ö° Strong Flicker");T(ie,_e)},Kt=ie=>{var _e=qe(),yt=Re(_e);{var bt=le=>{var be=pe("üéØ Critical Threshold");T(le,be)},xt=le=>{var be=qe(),Qt=Re(be);{var en=xe=>{var Ge=pe("‚ú® Near-Fusion");T(xe,Ge)},tn=xe=>{var Ge=qe(),nn=Re(Ge);{var rn=Me=>{var rt=pe("üé¨ Cinema (60 Hz)");T(Me,rt)},sn=Me=>{var rt=pe("üåü Ultra Smooth");T(Me,rt)};se(nn,Me=>{y()<62?Me(rn):Me(sn,!1)},!0)}T(xe,Ge)};se(Qt,xe=>{y()<58?xe(en):xe(tn,!1)},!0)}T(le,be)};se(yt,le=>{y()<52?le(bt):le(xt,!1)},!0)}T(ie,_e)};se(Zt,ie=>{y()<48?ie(Ft):ie(Kt,!1)})}$(_t);var zt=k(_t,2),ur=I(zt);{var vr=ie=>{var _e=pe("Noticeable flicker - classic phenakistoscope effect");T(ie,_e)},hr=ie=>{var _e=qe(),yt=Re(_e);{var bt=le=>{var be=pe("Flicker begins to fuse - critical threshold");T(le,be)},xt=le=>{var be=qe(),Qt=Re(be);{var en=xe=>{var Ge=pe("Subtle pulsing - artistic sweet spot");T(xe,Ge)},tn=xe=>{var Ge=qe(),nn=Re(Ge);{var rn=Me=>{var rt=pe("Standard cinema/TV rate - minimal flicker");T(Me,rt)},sn=Me=>{var rt=pe("Above fusion threshold - very smooth");T(Me,rt)};se(nn,Me=>{y()<62?Me(rn):Me(sn,!1)},!0)}T(xe,Ge)};se(Qt,xe=>{y()<58?xe(en):xe(tn,!1)},!0)}T(le,be)};se(yt,le=>{y()<52?le(bt):le(xt,!1)},!0)}T(ie,_e)};se(ur,ie=>{y()<48?ie(vr):ie(hr,!1)})}$(zt),$(Lt),$(b),Pe(()=>{ct(V,`padding: 6px 10px; border: 1px solid ${y()===42?"#ff6b6b":"#555"}; background: ${y()===42?"#ff6b6b":"#333"}; color: white; border-radius: 4px; cursor: pointer; font-size: 0.8em;`),ct(re,`padding: 6px 10px; border: 1px solid ${y()===50?"#ffa500":"#555"}; background: ${y()===50?"#ffa500":"#333"}; color: white; border-radius: 4px; cursor: pointer; font-size: 0.8em;`),ct(oe,`padding: 6px 10px; border: 1px solid ${y()===55?"#4a9eff":"#555"}; background: ${y()===55?"#4a9eff":"#333"}; color: white; border-radius: 4px; cursor: pointer; font-size: 0.8em;`),ct(Ie,`padding: 6px 10px; border: 1px solid ${y()===60?"#51cf66":"#555"}; background: ${y()===60?"#51cf66":"#333"}; color: white; border-radius: 4px; cursor: pointer; font-size: 0.8em;`),ct(je,`padding: 6px 10px; border: 1px solid ${y()===70?"#845ef7":"#555"}; background: ${y()===70?"#845ef7":"#333"}; color: white; border-radius: 4px; cursor: pointer; font-size: 0.8em;`),$e(ye,`${y()??""} Hz`),ss(Ke,y())}),ce("click",V,()=>Qe.set(42)),ce("click",re,()=>Qe.set(50)),ce("click",oe,()=>Qe.set(55)),ce("click",Ie,()=>Qe.set(60)),ce("click",je,()=>Qe.set(70)),ce("input",Ke,ie=>Qe.set(+ie.target.value)),T(d,b)};se($n,d=>{g()&&d(nr)})}var Cn=k($n,2);{var rr=d=>{var b=$s(),N=I(b);{var W=Se=>{var Ze=Is();T(Se,Ze)};se(N,Se=>{t(Oe)&&Se(W)})}var V=k(N,2),re=I(V),oe=k(re,2),Ie=I(oe),je=I(Ie);$(Ie),ln(2),$(oe);var Je=k(oe,2);$(V),$(b),Pe(Se=>{Wt(b,1,`speed-control ${t(Oe)?"dragMode":""} ${t(F)?"dragging":""}`,"svelte-14nyow8"),ct(b,`left: ${t(L),De(()=>t(L).left??16)??""}px; top: ${t(L),De(()=>t(L).top??16)??""}px;`),$e(je,`${Se??""}¬∞/s`)},[()=>(o(),De(()=>o().toFixed(0)))]),ce("click",re,z),ce("click",Je,G),ce("pointerdown",b,at),T(d,b)};se(Cn,d=>{h()&&d(rr)})}var Dn=k(Cn,2),Ht=I(Dn),Yt=I(Ht),An=k(I(Yt)),sr=k(An);{var ar=d=>{var b=Cs();T(d,b)},ir=d=>{var b=Ds();T(d,b)};se(sr,d=>{M()?d(ar):d(ir,!1)})}$(Yt);var Ln=k(Yt,2),Xt=k(I(Ln),2);Mt(Xt);var or=k(Xt,2);$(Ln),$(Ht);var Vt=k(Ht,2),lr=k(I(Vt));$(Vt);var Bt=k(Vt,2),cr=k(I(Bt));$(Bt);var fr=k(Bt,2);{var dr=d=>{var b=As(),N=k(I(b));$(b),Pe((W,V,re)=>$e(N,` x=${W??""}, y=${V??""}, r=${re??""}`),[()=>(t(s),De(()=>Math.round(t(s).x))),()=>(t(s),De(()=>Math.round(t(s).y))),()=>(t(s),De(()=>Math.round(t(s).r)))]),T(d,b)};se(fr,d=>{t(s)&&d(dr)})}$(Dn),$(it),Pe((d,b)=>{$t=Wt(We,1,Wn(t(s)&&!v()?"play-highlight":""),"svelte-14nyow8",$t,{"pause-subtle":v()&&!t(s)}),We.disabled=!r(),$e(jt,v()?"Pause":"Play"),K.disabled=!t(n),H.disabled=t(de)||!i(),$e(Ye,t(de)?"Exporting...":"Save GIF"),Nt(Te,"placeholder",t(f)?`Auto (${t(f)*2})`:"Auto (24)"),as(Gt,t(C)),$e(An,` ${d??""}¬∞/s | `),$e(lr,` ${t(f)??0??""}`),$e(cr,` ${b??""}¬∞/s`)},[()=>(o(),De(()=>o().toFixed(0))),()=>(t(n),De(()=>t(n)?t(n).toFixed(0):"‚Äî"))]),ce("click",We,q),ce("click",Ct,U),ce("click",K,me),ce("click",H,ue),jn(Te,()=>t(ne),d=>E(ne,d)),ts(X,()=>t(we),d=>E(we,d)),ce("change",Gt,d=>wn.set(d.target.checked)),os(qt,g,d=>Yr(bn,d)),jn(Xt,()=>t(D),d=>E(D,d)),ce("click",or,ee),T(e,it),Tt(),u()}var zs=fe("<option> </option>"),Rs=fe('<div class="selector svelte-ai08gq"><label for="samples" class="svelte-ai08gq">Sample Images:</label> <select id="samples" class="svelte-ai08gq"><option>-- Choose a sample --</option><!></select></div>');function Os(e,a){Et(a,!1);const r="https://raw.githubusercontent.com/tclaret/phenakistoscope-simulator/main/images",c="https://raw.githubusercontent.com/tclaret/phenaki-lab/main/img",v=[{name:"Woman Chopping Tree",file:"WomanChoppingTree.jpg",repo:"old"},{name:"Dancing",file:"Dancing.jpg",repo:"old"},{name:"Jongleur",file:"Jongleur.png",repo:"old"},{name:"a_cheval",file:"a_cheval.png",repo:"old"},{name:"McLean_1",file:"McLean_1.png",repo:"old"},{name:"Gernamy_1949",file:"Gernamy_1949_R_Balzer.png",repo:"old"},{name:"AEO175939",file:"AEO175939_PhenakistoscopeGiroux60.jpg",repo:"old"},{name:"AEO185553",file:"AEO185553_PhenakistiscopeDisc_ManInBlueAndRed.jpg",repo:"old"},{name:"medium_1990_5036_3369",file:"medium_1990_5036_3369.jpg",repo:"old"},{name:"medium_a001813b",file:"medium_a001813b.jpg",repo:"old"},{name:"tumblr_obd6fh",file:"tumblr_obd6fhGFSZ1r9jbwno1_500.png",repo:"old"},{name:"tumblr_oc1cz",file:"tumblr_oc1czn99ZM1r9jbwno1_500.png",repo:"old"},{name:"Phantasmascope Faces",file:"Phantasmascope_faces.png",repo:"old"},{name:"722a6790240569.5e126845d9b56",file:"722a6790240569.5e126845d9b56.png",repo:"old"},{name:"Fantascope Disc 1833",file:"fantascope-disc-1833.png",repo:"old"},{name:"Face",file:"a_face__.jpg",repo:"new"},{name:"Culbute",file:"culbute.jpg",repo:"new"},{name:"Grenouille",file:"Grenouille__.jpg",repo:"new"},{name:"Oh Soccer",file:"oh_soccer.jpg",repo:"new"},{name:"Un Grand Un Petit",file:"un_grand_un_petit.jpg",repo:"new"},{name:"Autre Culbutte",file:"autre_culbutte.jpg",repo:"new"},{name:"Dancing 2",file:"dancing_.jpg",repo:"new"},{name:"Il Pompe de l'eau",file:"il_pompe_de_leau.jpg",repo:"new"},{name:"Porceline",file:"porceline.jpg",repo:"new"},{name:"Volants",file:"volants_.png",repo:"new"},{name:"Ce Qui",file:"ce_qui.jpg",repo:"new"},{name:"Des Anges",file:"des_anges.jpg",repo:"new"},{name:"Moulin",file:"moulin_.jpg",repo:"new"},{name:"Rats",file:"rats__.jpg",repo:"new"},{name:"Corde √† Danser",file:"corde_a_denser_.jpg",repo:"new"},{name:"Ecureuil",file:"ecureuil.jpg",repo:"new"},{name:"Noel Noel",file:"noel_noel.jpg",repo:"new"},{name:"Tirreur",file:"tirreur_.jpg",repo:"new"},{name:"C Pastel",file:"c_pastel.jpg",repo:"new"},{name:"G√©om√©trique",file:"geometrique.jpg",repo:"new"},{name:"Nuages en Scie",file:"nuages_en_scie.jpg",repo:"new"},{name:"Tons Pastels",file:"tons_pastels.jpg",repo:"new"}];function i(l){const g=`${l.repo==="new"?c:r}/${l.file}`;dt.set(g),Tn.set(g),st.set(!0)}Sn(()=>{let l=!1;if(dt.subscribe(g=>{g&&(l=!0)})(),!l){const g=v[Math.floor(Math.random()*v.length)];g&&i(g)}}),Ut();var o=Rs(),h=k(I(o),2),x=I(h);x.value=x.__value="";var p=k(x);Vr(p,1,()=>v,l=>l.file,(l,m)=>{var g=zs(),y=I(g,!0);$(g);var M={};Pe(()=>{$e(y,t(m).name),M!==(M=t(m).file)&&(g.value=(g.__value=t(m).file)??"")}),T(l,g)}),$(h),$(o),ce("change",h,l=>{const m=l.target.selectedIndex-1;m>=0&&i(v[m])}),T(e,o),Tt()}var Ws=fe('<div class="container svelte-1uha8ag"><h1 class="svelte-1uha8ag">Phenakistoscope Lab</h1> <p class="sub svelte-1uha8ag">Convert old phenakistoscope discs into animated GIFs</p> <!> <!> <!> <!> <!></div>');function Xs(e){var a=Ws(),r=k(I(a),4);cs(r,{});var c=k(r,2);Os(c,{});var v=k(c,2);ds(v,{});var i=k(v,2);ps(i,{});var o=k(i,2);Fs(o,{}),$(a),T(e,a)}export{Xs as component};
